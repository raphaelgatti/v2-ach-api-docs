<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Dwolla API docs</title>
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" /> 
    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />

    <link href="stylesheets/include_root.css" rel="stylesheet" type="text/css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

<!--     
      <script>
        $(function() {
          setupLanguages(["raw","php","ruby","python","javascript"]);
        });
      </script>
     -->

      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-30404064-1', 'auto');
        ga('send', 'pageview');

      </script>
  </head>
  <body class="index">
    <header>
        <div class="header__primary js-two-col-header-primary">
          <div class="page-wrap">
            <div>
              <a class="logo icon-logo-dwolla-white" href="https://www.dwolla.com/">Dwolla</a>
              <img src="images/logo-dwolla-orange.png" alt="Dwolla" class="print-only" />
              <div class="hamburger">
                <a href="http://dwolla.com/register">Sign up</a>
                <a class="btn primary js-hamburger">Menu</a>
              </div>
            </div>
            <nav class="js-hamburger-nav">
              <a href="https://www.dwolla.com/about">Product</a>
              <a href="https://developer.dwolla.com">API</a>
              <a href="https://www.dwolla.com/contact?b=nav">Contact sales</a>
              <a href="http://dwolla.com/login">Log in</a>
              <a href="http://dwolla.com/register" class="btn primary">Sign up</a>
            </nav>
          </div>
      </div>
      <nav class="header__secondary js-two-col-nav-toggle">
        <div class="js-two-col-header-secondary">
          <div class="page-wrap">
            <a class="no-nav js-two-col-no-toggle" href="https://developers.dwolla.com/guides/">Guides</a>
            <a class="no-nav js-two-col-no-toggle" href="https://developers.dwolla.com/resources/">Resources</a>
            <a class="active">API docs</a>
            <a class="no-nav js-two-col-no-toggle" href="https://developers.dwolla.com/pages/sdks.html">SDKs</a>
            <div class="custom-select custom-select--blue">
              <select id="language_select" class="language_select" name="select">
                    <option value="raw">raw</option>
                    <option value="php">php</option>
                    <option value="ruby">ruby</option>
                    <option value="python">python</option>
                    <option value="javascript">javascript</option>
              </select>
              <div class="arrow"></div>
            </div>
          </div>
        </div>
      </nav>
    </header>
    <div class="cnt-two-col">
      <div class="page-wrap">
        <section class="cnt-two-col__nav js-two-col-nav">
          <div class="close">
              <button class="js-two-col-nav-close icon-cnt-two-col-close"></button>
          </div>
          <div class="language-picker">
              <h6>Language</h6>
              <div class="custom-select custom-select--blue">
                  <select id="select" name="select">
                      <option value="json">json</option>
                  </select>
                  <div class="arrow"></div>
              </div>
          </div>
          <nav class="side-nav js-side-nav">
          </nav>
          <nav class="side-nav js-side-nav">
          </nav>
          <nav class="side-nav tocify-wrapper active js-side-nav">
              <section class="side-nav__api-ver">
                  <span>Api Version</span>
                  <div class="toggle-buttons">
                      <a href="https://docs.dwolla.com/">V1</a>
                      <a class="active" href="https://docsv2.dwolla.com">V2</a>
                  </div>
              </section>
              <section id="toc">
              </section>
              <section class="side-nav__options">
                  <h6>Options</h6>
                  <ul>
                        <li class="external-link"><a href="https://discuss.dwolla.com/c/api-support" target="_blank"><span class="icon-sidenav-option">Get some help</span></a></li>
                        <li class="external-link"><a href='https://developers.dwolla.com/guides/sandbox-setup/' target="_blank"><span class="icon-sidenav-option">Sandbox Environment</span></a></li>
                        <li class="external-link"><a href='http://github.com/tripit/slate' target="_blank"><span class="icon-sidenav-option">Documentation Powered by Slate</span></a></li>
                  </ul>
              </section>
          </nav>
        </section>
        <section class="cnt-two-col__content">
          
            <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Dwolla API V2 documentation, with ongoing updates as functionality is released to the API. We plan to implement API V1 functionality in API V2, but in the meantime, the two versions will operate in parallel.</p>

<p>The initial focus of API Version 2 centers around a premium product: <a href="https://www.dwolla.com/white-label">white label</a>, and provides different functionality from API Version 1. Over time, we are adding the same functionality currently available in V1 to V2.</p>

<p>Official SDKs for Java, Node.JS, PHP, Ruby, and Python are being actively developed.</p>

<p>Please note: white label is a premium product that cannot be activated in our production environment until you’ve received our approval to use it and have entered into an agreement with us. Please <a href="https://www.dwolla.com/contact?b=apidocs">contact a sales representative</a> to find a package that best meets your needs.</p>
<h2 id='making-requests'>Making requests</h2>
<p>All requests should supply the <code class="prettyprint">Accept: application/vnd.dwolla.v1.hal+json</code> header. <code class="prettyprint">POST</code> requests must specify the <code class="prettyprint">Content-Type: application/vnd.dwolla.v1.hal+json</code> header. Request and response bodies are JSON encoded.</p>

<p>Requests must be made over HTTPS.  Any non-secure requests are met with a redirect (HTTP 302) to the HTTPS equivalent URI.</p>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">POST https://api.dwolla.com/customers
Content-Type: application/json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer myOAuthAccessToken123

{
  "foo": "bar"
}

... or ...

GET https://api.dwolla.com/accounts/a84222d5-31d2-4290-9a96-089813ef96b3/transfers
</code></pre></div></div><h3 id='authorization'>Authorization</h3>
<p>All requests require either an OAuth access token or a <code class="prettyprint">client_id</code> and <code class="prettyprint">client_secret</code>.  OAuth access tokens are passed via the <code class="prettyprint">Authorization</code> HTTP header:</p>

<p><code class="prettyprint">Authorization: Bearer {access_token_here}</code></p>

<p>Requests that require an client_id and client_secret are passed in the JSON request body for <code class="prettyprint">POST</code> requests or as querystring parameters for <code class="prettyprint">GET</code> requests:</p>

<p><code class="prettyprint">GET https://api.dwolla.com/example?client_id={client_id}&amp;client_secret={client_secret}</code></p>
<h3 id='api-host'>API Host</h3>
<p><strong>Production:</strong> https://api.dwolla.com</p>

<p><strong>Sandbox:</strong> https://api-uat.dwolla.com</p>
<h2 id='idempotency-key'>Idempotency key</h2>
<p>To prevent an operation from being performed more than once, Dwolla supports passing in an <code class="prettyprint">Idempotency-Key</code> header with a unique key as the value. Multiple <code class="prettyprint">POSTs</code> with the same idempotency key won&rsquo;t result in multiple resources being created.</p>

<p>For example, if a request to <a href="#initiate-transfer">initiate a transfer</a> fails due to a network connection issue, you can reattempt the request with the same idempotency key to guarantee that only a single transfer is created.</p>

<p>If you reattempt a <code class="prettyprint">POST</code> request with the same value for the <code class="prettyprint">Idempotency-Key</code>, you will receive the original response. It is recommended to use a random value for the idempotency key, like a UUID (i.e. - <code class="prettyprint">Idempotency-Key: d2adcbab-4e4e-430b-9181-ac9346be723a</code>). Idempotency keys are intented to prevent conflicts over a short period of time, therefore keys will expire after 24 hours. If the Dwolla server is still processing the original <code class="prettyprint">POST</code>, you will receive a <code class="prettyprint">409 Conflict</code> error response on the subsequent request.</p>
<h4 id='example-transfer-using-an-idempotency-key'>Example transfer using an Idempotency Key</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">curl -X POST -H "Content-Type: application/vnd.dwolla.v1.hal+json" -H "Accept: application/vnd.dwolla.v1.hal+json" -H "Authorization: Bearer asdfwXTdDQFimVQOMdn9bOGHJh8KrqnFi34sugYqgrULRCb" -H "Idempotency-Key: d2adcbab-4e4e-430b-9181-ac9346be723a" -d '{
    "_links": {
        "destination": {
            "href": "https://api-uat.dwolla.com/customers/d795f696-2cac-4662-8f16-95f1db9bddd8"
        },
        "source": {
            "href": "http://api-uat.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"
        }
    },
    "amount": {
        "currency": "USD",
        "value": "1337.00"
    }
}' "https://api-uat.dwolla.com/transfers" -v

</code></pre></div></div><h2 id='errors'>Errors</h2>
<p>Error responses use HTTP status codes to indicate the type of error. The JSON response body will contain a top-level error code and a message with a detailed description of the error. Errors will contain their own media type and will closely align with <a href="https://github.com/blongden/vnd.error">this spec</a>.</p>
<h3 id='example-http-401-error'>Example HTTP 401 error</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InvalidAccessToken"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid access token."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='common-errors'>Common errors</h3>
<p>The following errors are common across all API endpoints.</p>

<table><thead>
<tr>
<th>HTTP Status</th>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>BadRequest</td>
<td>The request body contains bad syntax or is incomplete.</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Validation error(s) present. See embedded errors list for more details. (<a href="#validation-errors">See below</a>)</td>
</tr>
<tr>
<td>401</td>
<td>InvalidCredentials</td>
<td>Missing or invalid Authorization header.</td>
</tr>
<tr>
<td>401</td>
<td>InvalidAccessToken</td>
<td>Invalid access token.</td>
</tr>
<tr>
<td>401</td>
<td>ExpiredAccessToken</td>
<td>Generate a new access token using a valid refresh token.</td>
</tr>
<tr>
<td>401</td>
<td>InvalidAccountStatus</td>
<td>Invalid access token account status.</td>
</tr>
<tr>
<td>401</td>
<td>InvalidApplicationStatus</td>
<td>Invalid application status.</td>
</tr>
<tr>
<td>401</td>
<td>InvalidScopes</td>
<td>Missing or invalid scopes for requested endpoint.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>The supplied credentials are not authorized for this resource.</td>
</tr>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>Resource cannot be modified.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>The requested resource was not found.</td>
</tr>
<tr>
<td>405</td>
<td>MethodNotAllowed</td>
<td>(varies)</td>
</tr>
<tr>
<td>406</td>
<td>InvalidVersion</td>
<td>Missing or invalid API version.</td>
</tr>
<tr>
<td>500</td>
<td>ServerError</td>
<td>A server error occurred. Error ID: 63e92a2a-fb48-4a23-ab4c-24a6764f1593.</td>
</tr>
<tr>
<td>500</td>
<td>RequestTimeout</td>
<td>The request timed out.</td>
</tr>
</tbody></table>
<h3 id='validation-errors'>Validation errors</h3>
<p>Responses with a top-level error code of <code class="prettyprint">ValidationError</code> are returned when it’s possible to correct a specific problem with your request. The response will include a message: &ldquo;Validation error(s) present. See embedded errors list for more details.&rdquo; At least one, but possibly more, detailed error will be present in the list of embedded errors. Multiple errors are represented in a collection of embedded error objects.</p>
<h4 id='_embedded-json-object'>_embedded JSON object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>errors</td>
<td>An array of JSON object(s) that contain a <code class="prettyprint">code</code>, <code class="prettyprint">message</code>, and <code class="prettyprint">path</code>.</td>
</tr>
</tbody></table>

<p>The <code class="prettyprint">path</code> field is a JSON pointer to the specific field in the request that has a problem. The <code class="prettyprint">message</code> is a human readable description of the problem. The <code class="prettyprint">code</code> is a detailed error code that can have one of the following values:</p>

<ul>
<li>Required</li>
<li>Invalid - not a valid value for this field</li>
<li>InvalidFormat - chars in an amount field, for instance</li>
<li>Duplicate - &ldquo;A customer with the specified email already exists.&rdquo;</li>
<li>ReadOnly - this field is not allowed to be modified</li>
<li>NotAllowed - value, while valid/exists, is not allowed to be used</li>
<li>Restricted - account or customer restricted from this activity</li>
<li>InsufficientFunds - used on source or destination fields of transfer endpoint</li>
<li>RequiresFundingSource - used on destination field of transfer endpoint to indicate customer needs a bank</li>
<li>FileTooLarge - used on document upload</li>
</ul>
<h4 id='example-http-400-validation-error'>Example HTTP 400 validation error</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ValidationError"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Validation error(s) present. See embedded errors list for more details."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Required"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FirstName is required."</span><span class="p">,</span><span class="w">
                </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/firstName"</span><span class="p">,</span><span class="w">
            </span><span class="err">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='links'>Links</h2>
<p>Relationships and available actions for a resource are represented with links.  All resources have a <code class="prettyprint">_links</code> attribute.  At a minimum, all resources will have a <code class="prettyprint">self</code> link which indicates the URL of the resource itself.</p>

<p>Some links, such as <code class="prettyprint">funding-sources</code>, give you a URL which you can follow to access related resources.  For example, the customer resource has a <code class="prettyprint">funding-sources</code> link which, when followed, will list the customer&rsquo;s available funding sources.</p>

<p>Responses which contain a collection of resources have pagination links, <code class="prettyprint">first</code>, <code class="prettyprint">next</code>, <code class="prettyprint">last</code>, and <code class="prettyprint">prev</code>.</p>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/132681FA-1B4D-4181-8FF2-619CA46235B1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"funding-sources"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/132681FA-1B4D-4181-8FF2-619CA46235B1/funding-sources"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/132681FA-1B4D-4181-8FF2-619CA46235B1/transfers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"retry-verification"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/132681FA-1B4D-4181-8FF2-619CA46235B1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132681FA-1B4D-4181-8FF2-619CA46235B1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@nomail.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"personal"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"retry"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-29T19:47:28.920Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
            <h1 id='sdk-support'>SDK Support</h1>
<p>The Dwolla API V2 has officially maintained software packages to make it easier for developers to get started with making requests against the API. This section is here to provide basic instructions on how to install these packages and get up and running with them. We recommend you use a POSIX-standardized shell on your development machine, and assume that you are already familiar and set-up with any tools required for your specific technical ecosystem.</p>

<p>Each SDK is automatically versioned with the <a href="https://api-uat.dwolla.com/swagger.json">Dwolla API Schema</a>; all libraries (with the exception of JavaScript) are organized in a similar manner. Each endpoint grouping is assigned a class and then an operation which you can use to make a request. You can choose which environment to target (e.g production vs sandbox) by providing the SDK a different API host value.</p>
<h4 id='api-hosts'>API Hosts</h4>
<table><thead>
<tr>
<th>Production</th>
<th>Sandbox</th>
</tr>
</thead><tbody>
<tr>
<td>api.dwolla.com</td>
<td>api-uat.dwolla.com</td>
</tr>
</tbody></table>
<h2 id='dwollaswagger-ruby'>DwollaSwagger Ruby</h2>
<p><code class="prettyprint">dwolla-swagger-ruby</code> is available on <a href="https://rubygems.org/gems/dwolla_swagger">RubyGems</a> with <a href="https://github.com/Dwolla/dwolla-swagger-ruby">source code</a> available on our GitHub page. More information is available on the project&rsquo;s README.</p>
<h3 id='installation'>Installation</h3><div class="code-snippet js-code-snippet language-bashnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-bashnohide" data-lang="bashnohide">gem install dwolla_swagger
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s list some <code class="prettyprint">Customer</code> objects:</p>
<div class="code-snippet js-code-snippet language-rubynohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-rubynohide" data-lang="rubynohide"><span class="nb">require</span> <span class="s1">'dwolla_swagger'</span>

<span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">Swagger</span><span class="p">.</span><span class="nf">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
    <span class="n">config</span><span class="p">.</span><span class="nf">access_token</span> <span class="o">=</span> <span class="s1">'a token'</span>
    <span class="n">config</span><span class="p">.</span><span class="nf">host</span> <span class="o">=</span> <span class="s1">'api-uat.dwolla.com'</span>
    <span class="n">config</span><span class="p">.</span><span class="nf">base_path</span> <span class="o">=</span> <span class="s1">'/'</span>
<span class="k">end</span>

<span class="n">my_custies</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">CustomersApi</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span><span class="ss">:limit</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div><h2 id='dwollav2-ruby'>DwollaV2 Ruby</h2>
<p><code class="prettyprint">dwolla_v2</code> is available on <a href="https://rubygems.org/gems/dwolla_v2">RubyGems</a> with <a href="https://github.com/Dwolla/dwolla-v2-ruby">source code</a> available on our GitHub page. More information is available on the project&rsquo;s README.</p>
<h3 id='installation'>Installation</h3><div class="code-snippet js-code-snippet language-bashnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-bashnohide" data-lang="bashnohide">gem install dwolla_v2
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s fetch a page of customers:</p>
<div class="code-snippet js-code-snippet language-rubynohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-rubynohide" data-lang="rubynohide"><span class="nb">require</span> <span class="s1">'dwolla_v2'</span>

<span class="c1"># see dwolla.com/applications for your client id and secret</span>
<span class="vg">$dwolla</span> <span class="o">=</span> <span class="no">DwollaV2</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">id: </span><span class="s2">"..."</span><span class="p">,</span> <span class="ss">secret: </span><span class="s2">"..."</span><span class="p">)</span>

<span class="c1"># generate a token on dwolla.com/applications</span>
<span class="n">account_token</span> <span class="o">=</span> <span class="vg">$dwolla</span><span class="p">.</span><span class="nf">tokens</span><span class="p">.</span><span class="nf">new</span> <span class="ss">access_token: </span><span class="s2">"..."</span>

<span class="n">customers</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="ss">limit: </span><span class="mi">10</span>
</code></pre></div></div><h2 id='python'>Python</h2>
<p><code class="prettyprint">dwolla-swagger-python</code> is available on <a href="https://pypi.python.org/pypi/dwollaswagger">PyPi</a> with <a href="https://github.com/Dwolla/dwolla-swagger-python">source code</a> available on our GitHub page. More information is available on the project&rsquo;s README.</p>
<h3 id='installation'>Installation</h3><div class="code-snippet js-code-snippet language-bashnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-bashnohide" data-lang="bashnohide">pip install dwollaswagger
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s list some <code class="prettyprint">Customer</code> objects:</p>
<div class="code-snippet js-code-snippet language-pythonnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-pythonnohide" data-lang="pythonnohide"><span class="n">dwollaswagger</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">access_token</span> <span class="o">=</span> <span class="s">'token'</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">ApiClient</span><span class="p">(</span><span class="s">'https://api-uat.dwolla.com'</span><span class="p">)</span>

<span class="n">customers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">CustomersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">my_custies</span> <span class="o">=</span>  <span class="n">customers_api</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></div><h2 id='php'>PHP</h2>
<p><code class="prettyprint">dwolla-swagger-php</code> is available on <a href="https://packagist.org/packages/dwolla/dwollaswagger">Packagist</a> with <a href="https://github.com/Dwolla/dwolla-swagger-php">source code</a> available on our GitHub page. More information is available on the project&rsquo;s README.</p>
<h3 id='installation'>Installation</h3><div class="code-snippet js-code-snippet language-bashnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-bashnohide" data-lang="bashnohide">composer require dwolla/dwollaswagger
composer install
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s list some <code class="prettyprint">Customer</code> objects:</p>
<div class="code-snippet js-code-snippet language-phpnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-phpnohide" data-lang="phpnohide"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../path/to/vendor/autoload.php'</span><span class="p">);</span>

<span class="nx">DwollaSwagger\Configuration</span><span class="o">::</span><span class="nv">$access_token</span> <span class="o">=</span> <span class="s1">'a token'</span><span class="p">;</span>
<span class="nv">$apiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\ApiClient</span><span class="p">(</span><span class="s2">"https://api-uat.dwolla.com/"</span><span class="p">);</span>

<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$myCusties</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">_list</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='java'>Java</h2>
<p><code class="prettyprint">dwolla-swagger-java</code> will soon be available on Maven Central with <a href="https://github.com/Dwolla/dwolla-swagger-java">source code</a> available on our GitHub page. More information is available on the project&rsquo;s README.</p>
<h3 id='installation'>Installation</h3>
<p>You will be required to install from source, please have <code class="prettyprint">Git</code> and <code class="prettyprint">mvn</code> installed and in your path, then:</p>
<div class="code-snippet js-code-snippet language-bashnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-bashnohide" data-lang="bashnohide">git clone https://github.com/Dwolla/dwolla-swagger-java
<span class="nb">cd </span>dwolla-swagger-java
mvn install package
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s list some <code class="prettyprint">Customer</code> objects:</p>
<div class="code-snippet js-code-snippet language-javanohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-javanohide" data-lang="javanohide"><span class="kn">import</span> <span class="nn">io.swagger.client.ApiClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.swagger.client.api.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.swagger.client.model.*</span><span class="o">;</span>

<span class="n">ApiClient</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ApiClient</span><span class="o">();</span>
<span class="n">a</span><span class="o">.</span><span class="na">setBasePath</span><span class="o">(</span><span class="s">"https://api-uat.dwolla.com"</span><span class="o">);</span>
<span class="n">a</span><span class="o">.</span><span class="na">setAccessToken</span><span class="o">(</span><span class="s">"a token"</span><span class="o">);</span>

<span class="n">CustomersApi</span> <span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CustomersApi</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
<span class="n">CustomerListResponse</span> <span class="n">custies</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
</code></pre></div></div><h2 id='javascript'>JavaScript</h2>
<p><code class="prettyprint">dwolla-v2</code> is available on <a href="https://www.npmjs.com/package/dwolla-v2">NPM</a> with <a href="https://github.com/Dwolla/dwolla-v2-node">source code</a> available on our GitHub page. More information is available on the project&rsquo;s README.</p>
<h3 id='installation'>Installation</h3><div class="code-snippet js-code-snippet language-bashnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-bashnohide" data-lang="bashnohide">npm install dwolla-v2
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s fetch a page of customers:</p>
<div class="code-snippet js-code-snippet language-rubynohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-rubynohide" data-lang="rubynohide"><span class="n">var</span> <span class="n">dwolla</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">'dwolla-v2'</span><span class="p">);</span>

<span class="c1"># see dwolla.com/applications for your client id and secret</span>
<span class="n">var</span> <span class="n">client</span> <span class="o">=</span> <span class="kp">new</span> <span class="n">dwolla</span><span class="o">.</span><span class="no">Client</span><span class="p">({</span><span class="ss">id: </span><span class="s2">"..."</span><span class="p">,</span> <span class="ss">secret: </span><span class="s2">"..."</span><span class="p">});</span>

<span class="c1"># generate a token on dwolla.com/applications</span>
<span class="n">var</span> <span class="n">accountToken</span> <span class="o">=</span> <span class="kp">new</span> <span class="n">client</span><span class="o">.</span><span class="no">Token</span><span class="p">({</span><span class="ss">access_token: </span><span class="s2">"..."</span><span class="p">});</span>

<span class="n">accountToken</span>
  <span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="p">{</span> <span class="ss">limit: </span><span class="mi">10</span> <span class="p">})</span>
  <span class="p">.</span><span class="nf">then</span><span class="p">(</span><span class="n">function</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="nf">body</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div></div>
            <h1 id='oauth'>OAuth</h1>
<p>Dwolla&rsquo;s API lets you interact with a user&rsquo;s Dwolla account and act on its behalf to transfer money, add funding sources, and more.  To do so, your application first needs to request authorization from users.  </p>

<p>Dwolla implements the <a href="http://oauth.net/2/">OAuth 2.0 standard</a> to facilitate this authorization. Similar to Facebook and Twitter&rsquo;s authentication flow, the user is first presented with a permission dialog for your application, at which point the user can either approve the permissions requested, or reject them. Once the user approves, an <code class="prettyprint">authorization_code</code> is sent to your application, which will then <a href="#finish-authorization">be exchanged</a> for an <code class="prettyprint">access_token</code> and a <code class="prettyprint">refresh_token</code> pair.</p>

<p>The <code class="prettyprint">access_token</code> can then be used to make API calls which require user authentication like <a href="#initiate-transfer">Initiate a Transfer</a> or <a href="#get-transfers-account">List Transfers</a>.</p>
<h3 id='token-lifetimes'>Token lifetimes</h3>
<p><strong>Access tokens</strong> are <em>short lived</em>: 1 hour.</p>

<p><strong>Refresh tokens</strong> are <em>long lived</em>: 60 days.</p>

<p>A refresh token can be used within 60 days to generate a new access_token and refresh_token pair.  So long as you <a href="#refresh-authorization">refresh your authorization</a> at least every 60 days, your application can maintain authorization indefinitely without requiring the user to re-authorize.</p>
<h2 id='request-user-authorization'>Request user authorization</h2>
<p>To start the OAuth process, construct the initiation URL which the user will visit in order to grant permission to your application.  It describes the permissions your application requires (<code class="prettyprint">scope</code>), who the client application is (<code class="prettyprint">client_id</code>), and where the user should be redirected to after they grant or deny permissions to your application (<code class="prettyprint">redirect_uri</code>).</p>
<h3 id='url-format'>URL Format:</h3><h4 id='production'>Production</h4>
<p><code class="prettyprint">
https://www.dwolla.com/oauth/v2/authenticate?client_id={client_id}&amp;response_type=code&amp;redirect_uri={redirect_uri}&amp;scope={scope}
</code></p>
<h4 id='uatsandox'>UAT(Sandox)</h4>
<p><code class="prettyprint">
https://uat.dwolla.com/oauth/v2/authenticate?client_id={client_id}&amp;response_type=code&amp;redirect_uri={redirect_uri}&amp;scope={scope}
</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>yes</td>
<td>string</td>
<td>Application key.</td>
</tr>
<tr>
<td>response_type</td>
<td>yes</td>
<td>string</td>
<td>This must always be set to <code class="prettyprint">code</code>.</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>yes</td>
<td>string</td>
<td>URL where the user will be redirected to afterwards. The value of this parameter must match one of the values that appear in your <a href="https://www.dwolla.com/applications">application details</a> page. (We compare: protocol, subdomain, domain, tld, and file path. Querystring parameters are ignored)</td>
</tr>
<tr>
<td>scope</td>
<td>yes</td>
<td>string</td>
<td>Permissions you are requesting.  See <a href="#oauth-scopes">below</a> for list of available scopes.  Scopes are delimited by a pipe (&ldquo;&#124;&rdquo;)</td>
</tr>
<tr>
<td>verified_account</td>
<td>no</td>
<td>string</td>
<td>Require new users opting to register for Dwolla to create a fully-verified Dwolla account instead of a default lightweight Direct account.</td>
</tr>
<tr>
<td>dwolla_landing</td>
<td>no</td>
<td>string</td>
<td>An optional override that force displays either the login or create an account screen. Possible values are: <code class="prettyprint">login</code>, <code class="prettyprint">register</code>, or <code class="prettyprint">null</code>.</td>
</tr>
</tbody></table>
<ol class="alerts"><li class="alert icon-alert-alert"><p>Remember to url-encode all querystring parameters!</p>
</li></ol><h3 id='oauth-scopes'>OAuth scopes</h3>
<p>Applications may request the following permission scopes when generating an access token:</p>

<table><thead>
<tr>
<th>Scope Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Transactions</td>
<td>Access the user&rsquo;s transfer data</td>
</tr>
<tr>
<td>Send</td>
<td>Transfer money on the user&rsquo;s behalf</td>
</tr>
<tr>
<td>Funding</td>
<td>Access names of funding sources the user has connected to Dwolla, access available balance information for Dwolla Balance and Dwolla Credit (if applicable), add new funding sources, verify funding sources, initiate transfers to and from funding sources.</td>
</tr>
<tr>
<td>ManageCustomers</td>
<td>Includes create Customers, manage their funding sources, and allow related money movement</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># you can find your client id and secret at dwolla.com/applications</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">dwollav2</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="nb">id</span> <span class="o">=</span> <span class="s">'...'</span><span class="p">,</span> <span class="n">secret</span> <span class="o">=</span> <span class="s">'...'</span><span class="p">)</span>

<span class="n">state</span> <span class="o">=</span> <span class="n">binascii</span><span class="o">.</span><span class="n">b2a_hex</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">urandom</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>
<span class="n">client</span><span class="o">.</span><span class="n">Auth</span><span class="p">(</span><span class="n">redirect_uri</span> <span class="o">=</span> <span class="s">'https://yoursite.com/callback'</span><span class="p">,</span>
            <span class="n">scope</span> <span class="o">=</span> <span class="s">'ManageCustomers|Funding'</span><span class="p">,</span>
            <span class="n">state</span> <span class="o">=</span> <span class="n">state</span><span class="p">)</span>

<span class="c"># redirect the user to dwolla.com for authorization</span>
<span class="n">redirect_to</span><span class="p">(</span><span class="n">auth</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

<span class="c"># exchange the code for a token</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">auth</span><span class="o">.</span><span class="n">callback</span><span class="p">({</span><span class="s">'code'</span><span class="p">:</span> <span class="s">'...'</span><span class="p">,</span> <span class="s">'state'</span><span class="p">:</span> <span class="n">state</span><span class="p">})</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// where to send the user after they grant permission:</span>
<span class="kd">var</span> <span class="nx">redirect_uri</span> <span class="o">=</span> <span class="s2">"https://www.myredirect.com/redirect"</span><span class="p">;</span>  

<span class="c1">// generate OAuth initiation URL</span>
<span class="kd">var</span> <span class="nx">authUrl</span> <span class="o">=</span> <span class="nx">Dwolla</span><span class="p">.</span><span class="nx">authUrl</span><span class="p">(</span><span class="nx">redirect_uri</span><span class="p">);</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># config/initializers/dwolla.rb</span>
<span class="c1"># you can find your client id and secret at dwolla.com/applications</span>
<span class="vg">$dwolla</span> <span class="o">=</span> <span class="no">DwollaV2</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">id: </span><span class="s2">"..."</span><span class="p">,</span> <span class="ss">secret: </span><span class="s2">"..."</span><span class="p">)</span>

<span class="c1"># app/controllers/your_auth_controller.rb</span>
<span class="k">class</span> <span class="nc">YourAuthController</span>
  <span class="c1"># redirect the user to dwolla.com/oauth/v2/authenticate</span>
  <span class="k">def</span> <span class="nf">authenticate</span>
    <span class="n">redirect_to</span> <span class="n">auth</span><span class="p">.</span><span class="nf">url</span>
  <span class="k">end</span>

  <span class="c1"># exchange the code for a token</span>
  <span class="k">def</span> <span class="nf">callback</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">auth</span><span class="p">.</span><span class="nf">callback</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="kp">private</span>

  <span class="k">def</span> <span class="nf">auth</span>
    <span class="vg">$dwolla</span><span class="p">.</span><span class="nf">auths</span><span class="p">.</span><span class="nf">new</span> <span class="ss">redirect_uri: </span><span class="s2">"https://www.myredirect.com/redirect"</span><span class="p">,</span>
                      <span class="ss">scope: </span><span class="s2">"send|funding"</span><span class="p">,</span>
                      <span class="ss">state: </span><span class="n">session</span><span class="p">[</span><span class="ss">:state</span><span class="p">]</span> <span class="o">||=</span> <span class="no">SecureRandom</span><span class="p">.</span><span class="nf">hex</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">not applicable
</code></pre></div></div><h3 id='example-initiation-url-where-you-send-the-user'>Example initiation URL (where you send the user):</h3><div class="code-snippet js-code-snippet language-rawnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-rawnohide" data-lang="rawnohide">https://uat.dwolla.com/oauth/v2/authenticate?client_id=PO%2BSzGAsZCE4BTG7Cw4OAL40Tpf1008mDjGBSVo6QLNfM4mD%2Ba&amp;response_type=code&amp;redirect_uri=https://developers.dwolla.com/dev/token/callback?env=sandbox&amp;scope=Balance%7CAccountInfoFull
</code></pre></div></div><h2 id='finish-user-authorization'>Finish user authorization</h2>
<p>Once the user returns to your application via the <code class="prettyprint">redirect_uri</code> you specified, there will be a <code class="prettyprint">code</code> querystring parameter appended to that URL.  Exchange the authorization <code class="prettyprint">code</code> for an <code class="prettyprint">access_token</code> and <code class="prettyprint">refresh_token</code> pair.</p>
<h3 id='http-request'>HTTP request</h3>
<p><strong>Production:</strong> <code class="prettyprint">POST https://www.dwolla.com/oauth/v2/token</code></p>

<p><strong>UAT:</strong> <code class="prettyprint">POST https://uat.dwolla.com/oauth/v2/token</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>yes</td>
<td>string</td>
<td>Application key.</td>
</tr>
<tr>
<td>client_secret</td>
<td>yes</td>
<td>string</td>
<td>Application secret.</td>
</tr>
<tr>
<td>code</td>
<td>yes</td>
<td>string</td>
<td>The authorization code included in the redirect URL. Single use <code class="prettyprint">code</code> with an expiration of 30 minutes.</td>
</tr>
<tr>
<td>grant_type</td>
<td>yes</td>
<td>string</td>
<td>This must be set to <code class="prettyprint">authorization_code</code>.</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>yes</td>
<td>string</td>
<td>The same redirect_uri specified in the intiation step.</td>
</tr>
</tbody></table>
<h3 id='response-parameters'>Response parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>Contains a link to the associated user account resource</td>
</tr>
<tr>
<td>access_token</td>
<td>A new access token with requested scopes</td>
</tr>
<tr>
<td>expires_in</td>
<td>The lifetime of the access token, in seconds.  Default is 3600.</td>
</tr>
<tr>
<td>refresh_token</td>
<td>New refresh token</td>
</tr>
<tr>
<td>refresh_expires_in</td>
<td>The lifetime of the refresh token, in seconds.  Default is 5184000.</td>
</tr>
<tr>
<td>token_type</td>
<td>Always <code class="prettyprint">bearer</code>.</td>
</tr>
<tr>
<td>scope</td>
<td>Pipe <code>&#124;</code> delimited list of permission scopes granted</td>
</tr>
<tr>
<td>account_id</td>
<td>A unique user account ID for the associated user account</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"h6TvQZH+5BsV//O43uOJ0uRkBLk="</span><span class="p">,</span><span class="w">
  </span><span class="nt">"grant_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authorization_code"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.myredirect.com/redirect"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='successful-response'>Successful response:</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sdWPNdPyteKlVEmudKa9K2oFGs4s7VpiGfxBGFyDsolvuveafk"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EDidiHt28eRzthBlXvDDECz67wK3rNEA2fGdq46t8jOYqAuC4N"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refresh_expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">5184000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"send|transactions|funding|managecustomers"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ca32853c-48fa-40be-ae75-77b37504581b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='refresh-authorization'>Refresh authorization</h2>
<p>Use a valid <code class="prettyprint">refresh_token</code> to generate a new <code class="prettyprint">access_token</code> and <code class="prettyprint">refresh_token</code> pair.</p>

<p><strong>NOTE:</strong> The <code class="prettyprint">refresh_token</code> you receive will <em>change</em> every time you exchange either an <code class="prettyprint">authorization_code</code> or <code class="prettyprint">refresh_token</code> for a new token pair. However, If you exchange your last valid <code class="prettyprint">refresh_token</code> within a short timespan of being issued a new token pair, Dwolla will return most recently issued token pair for a short duration of time.</p>
<h3 id='http-request'>HTTP request</h3>
<p><strong>Production:</strong> <code class="prettyprint">POST https://www.dwolla.com/oauth/v2/token</code></p>

<p><strong>UAT:</strong> <code class="prettyprint">POST https://uat.dwolla.com/oauth/v2/token</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>yes</td>
<td>string</td>
<td>Application key.</td>
</tr>
<tr>
<td>client_secret</td>
<td>yes</td>
<td>string</td>
<td>Application secret.</td>
</tr>
<tr>
<td>refresh_token</td>
<td>yes</td>
<td>string</td>
<td>A valid refresh token.</td>
</tr>
<tr>
<td>grant_type</td>
<td>yes</td>
<td>string</td>
<td>This must be set to <code class="prettyprint">refresh_token</code>.</td>
</tr>
</tbody></table>
<h3 id='response-parameters'>Response parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>Contains a link to the associated user account resource</td>
</tr>
<tr>
<td>access_token</td>
<td>A new access token with requested scopes</td>
</tr>
<tr>
<td>expires_in</td>
<td>The lifetime of the access token, in seconds.  Default is 3600.</td>
</tr>
<tr>
<td>refresh_token</td>
<td>New refresh token</td>
</tr>
<tr>
<td>refresh_expires_in</td>
<td>The lifetime of the refresh token, in seconds.  Default is 5184000.</td>
</tr>
<tr>
<td>token_type</td>
<td>Always <code class="prettyprint">bearer</code>.</td>
</tr>
<tr>
<td>scope</td>
<td>Pipe <code>&#124;</code> delimited list of permission scopes granted</td>
</tr>
<tr>
<td>account_id</td>
<td>A unique user account ID for the associated user account</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pgk+l9okjwTCfsvIvEDPrsomE1er1txeyoaAkTIBAuXza8WvZY"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"grant_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refresh_token"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='successful-response'>Successful response</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"F3jK4rg7FGlq4yRQ7vWECoXVD4zQq9Xg26VnxzMbHGusZqr7dF"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DRlqGJ0IFsRK8xzjkKhjTOgz3meet6E91T2oacGCefHGU4h1hj"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refresh_expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">5184000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"send|transactions|funding|managecustomers"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ca32853c-48fa-40be-ae75-77b37504581b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='invalid-or-expired-refresh-token-response'>Invalid or expired refresh token response</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"access_denied"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid refresh token."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"access_denied"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Expired refresh token."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='application-access-token'>Application access token</h2>
<p>Some endpoints require an <em>application access token</em>, which is different from a user access token.  Application access tokens don&rsquo;t require any particular user&rsquo;s authorization, since they grant your application access to resources which belong to the application itself (i.e. events, webhooks, and webhook-subscriptions), rather than an account. Provide your client credentials to receive an application access token.</p>
<h3 id='http-request'>HTTP request</h3>
<p><strong>Production:</strong> <code class="prettyprint">POST https://www.dwolla.com/oauth/v2/token</code></p>

<p><strong>UAT:</strong> <code class="prettyprint">POST https://uat.dwolla.com/oauth/v2/token</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>yes</td>
<td>string</td>
<td>Application key.</td>
</tr>
<tr>
<td>client_secret</td>
<td>yes</td>
<td>string</td>
<td>Application secret.</td>
</tr>
<tr>
<td>grant_type</td>
<td>yes</td>
<td>string</td>
<td>This must be set to <code class="prettyprint">client_credentials</code>.</td>
</tr>
</tbody></table>
<h3 id='response-parameters'>Response parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>A new access token with requested scopes</td>
</tr>
<tr>
<td>expires_in</td>
<td>The lifetime of the access token, in seconds.  Default is 3600.</td>
</tr>
<tr>
<td>token_type</td>
<td>Always <code class="prettyprint">bearer</code>.</td>
</tr>
<tr>
<td>scope</td>
<td>Pipe <code>&#124;</code> delimited list of permission scopes granted</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"grant_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='successful-response'>Successful response</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SF8Vxx6H644lekdVKAAHFnqRCFy8WGqltzitpii6w2MVaZp1Nw"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AccountInfoFull|ManageAccount|Contacts|Transactions|Balance|Send|Request|Funding"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
            <h1 id='root'>Root</h1>
<p>The &ldquo;root&rdquo; serves as an entry point to the API, providing your application with the ability to fetch and discover resources available based on the OAuth <code class="prettyprint">access_token</code> provided in the request. If a user <a href="#request-user-authorization">account access token</a> is provided in the request, the API will return links to resources that belong to a Dwolla account of that user (i.e. &ldquo;accounts&rdquo; and &ldquo;customers&rdquo;). Alternatively, if an <a href="#application-access-token">application access token</a> is provided in the request, the API will return links to resources that belong to the Dwolla application (i.e. &ldquo;events&rdquo; and &ldquo;webhook-subscriptions&rdquo;).</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token or an <em>Application</em> access token but does not require a particular scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/</code></p>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "account": {
      "href": "https://api-uat.dwolla.com/accounts/ad5f2162-404a-4c4c-994e-6ab6c3a13254"
    },
    "customers": {
      "href": "https://api-uat.dwolla.com/customers"
    }
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">root</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"/"</span>
<span class="n">root</span><span class="p">.</span><span class="nf">_links</span><span class="p">.</span><span class="nf">account</span><span class="p">.</span><span class="nf">href</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/accounts/ad5f2162-404a-4c4c-994e-6ab6c3a13254"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet. Coming soon.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="n">root</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_links'</span><span class="p">][</span><span class="s">'account'</span><span class="p">][</span><span class="s">'href'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-uat.dwolla.com/accounts/ad5f2162-404a-4c4c-994e-6ab6c3a13254'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">root_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">RootApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">an_account</span> <span class="o">=</span> <span class="n">root_api</span><span class="o">.</span><span class="n">root</span><span class="p">()</span>
<span class="n">an_account</span><span class="o">.</span><span class="n">_links</span><span class="p">[</span><span class="s">'account'</span><span class="p">][</span><span class="s">'href'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-uat.dwolla.com/accounts/ad5f2162-404a-4c4c-994e-6ab6c3a13254'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_links</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span> <span class="c1">// =&gt; 'https://api-uat.dwolla.com/accounts/ad5f2162-404a-4c4c-994e-6ab6c3a13254'</span>
  <span class="p">});</span>
</code></pre></div></div>
            <h1 id='accounts'>Accounts</h1>
<p>An <code class="prettyprint">Account</code> represents a Dwolla account that was either established on dwolla.com, or created inline with the capture of the user account&rsquo;s permissions via Dwolla&rsquo;s OAuth flow. A user account grants authorization to an application via <a href="#oauth">OAuth</a>, which gives the application permission to interact with the API on their behalf.</p>
<h3 id='verified-and-unverified-accounts'>Verified and unverified Accounts</h3>
<p>With a transfer of money, at least one party must complete the identity verification process through creation of a Traditional CIP Verified Dwolla account, either the sender or the receiver. It’s your decision about which party completes this process, based on your business model, and you may want to have both parties complete the identity verification process. In cases where a Dwolla user <code class="prettyprint">Account</code> is sending funds to or receiving funds from your <code class="prettyprint">Account</code>, the <code class="prettyprint">Account</code> can remain unverified because your account is already verified. However, if you need to transfer funds between your users, at least one of them will need to have a Traditional CIP Verified Dwolla account.</p>

<p>For more information on Traditional Dwolla accounts, both Tradtional CIP Verified and Dwolla Direct, reference the <a href="https://developers.dwolla.com/resources/account-types/traditional-accounts.html">account types</a> resource article.</p>
<h3 id='migrating-dwolla-user-accounts-to-white-label-customers'>Migrating Dwolla user Accounts to White Label Customers</h3>
<p>Dwolla offers a seamless process for migrating existing user <a href="#accounts">Accounts</a> managed via OAuth on your platform to White Label <a href="#customers">Customers</a>. The user Account will maintain existing functionality on dwolla.com and will act as a separate White Label Customer upon completion of the migration. To learn more about upgrading to White Label, please <a href="https://www.dwolla.com/contact?b=apidocs">contact Sales</a>.</p>
<h3 id='account-links'>Account links</h3>
<table><thead>
<tr>
<th>Link</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>self</td>
<td>URL of the Account resource</td>
</tr>
<tr>
<td>receive</td>
<td>Follow the link to create a transfer to this Account.</td>
</tr>
<tr>
<td>funding-sources</td>
<td>GET this link to list the Accounts&rsquo;s funding sources.</td>
</tr>
<tr>
<td>transfers</td>
<td>GET this link to list the Account&rsquo;s transfers</td>
</tr>
<tr>
<td>customers</td>
<td>(optional) If this link exists, this account can create and manage white label Customers.</td>
</tr>
<tr>
<td>send</td>
<td>Follow the link to create a transfer to this Account.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"receive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-uat.dwolla.com/transfers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"funding-sources"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/funding-sources"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/transfers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-uat.dwolla.com/customers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"send"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-uat.dwolla.com/transfers"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ca32853c-48fa-40be-ae75-77b37504581b"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='get-an-account-by-id'>Get an Account by id</h2>
<p>This section shows you how to retrieve account information belonging to the authorized user. The developer can pass either an <code class="prettyprint">id</code> or the entire <code class="prettyprint">location</code> resource to make this request.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token but does not require a particular scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/accounts/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Account unique identifier.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Not authorized to get an Account by id.</td>
</tr>
<tr>
<td>404</td>
<td>Account not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
    },
    "receive": {
      "href": "https://api-uat.dwolla.com/transfers"
    },
    "funding-sources": {
      "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/funding-sources"
    },
    "transfers": {
      "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/transfers"
    },
    "customers": {
      "href": "https://api-uat.dwolla.com/customers"
    },
    "send": {
      "href": "https://api-uat.dwolla.com/transfers"
    }
  },
  "id": "ca32853c-48fa-40be-ae75-77b37504581b",
  "name": "Jane Doe"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">account_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">account</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">account_url</span>
<span class="n">account</span><span class="p">.</span><span class="nf">name</span> <span class="c1"># =&gt; "Jane Doe"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">account</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">AccountsApi</span><span class="p">.</span><span class="nf">id</span><span class="p">(</span><span class="n">account_url</span><span class="p">)</span>
<span class="n">account</span><span class="p">.</span><span class="nf">name</span> <span class="c1"># =&gt; "Jane Doe"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nv">$accountsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\AccountsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$account</span> <span class="o">=</span> <span class="nv">$accountsApi</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">(</span><span class="nv">$accountUrl</span><span class="p">);</span>
<span class="k">print</span><span class="p">(</span><span class="nv">$account</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">);</span> <span class="c1"># =&gt; "Jane Doe"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">account_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="n">accounts_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">AccountsApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

<span class="n">account</span> <span class="o">=</span> <span class="n">accounts_api</span><span class="o">.</span><span class="nb">id</span><span class="p">(</span><span class="n">account_url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">account</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="c"># =&gt; Jane Doe</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">accountUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span> <span class="c1">// =&gt; 'Jane Doe'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='create-an-account-funding-source'>Create an Account funding source</h2>
<p>This section details how to add a bank account to a Dwolla account. The bank account will have a status of <code class="prettyprint">unverified</code> upon creation. Before a Dwolla account is eligible to transfer money from their bank or credit union account they need to verify ownership of the account via <a href="#initiate-or-verify-micro-deposits">micro-deposit verification</a>.</p>

<p>For more information on micro-deposit verification, reference the <a href="https://developers.dwolla.com/resources/funding-source-verification.html">funding source verification</a> resource article.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Funding</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/funding-sources</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountNumber</td>
<td>yes</td>
<td>string</td>
<td>The bank account number.</td>
</tr>
<tr>
<td>routingNumber</td>
<td>yes</td>
<td>string</td>
<td>The bank account&rsquo;s routing number.</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>string</td>
<td>Type of bank account: <code class="prettyprint">checking</code> or <code class="prettyprint">savings</code>.</td>
</tr>
<tr>
<td>name</td>
<td>yes</td>
<td>string</td>
<td>Arbitrary nickname for the funding source.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Duplicate funding source or validation error.</td>
</tr>
<tr>
<td>403</td>
<td>Not authorized to create funding source.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">POST /funding-sources
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
{
    "routingNumber": "222222226",
    "accountNumber": "123456789",
    "type": "checking",
    "name": "My Bank"
}

...

HTTP/1.1 201 Created
Location: https://api-uat.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3
</code></pre></div></div><h2 id='list-an-account39s-funding-sources'>List an Account&rsquo;s funding sources</h2>
<p>Retrieve a list of funding sources that belong to an Account. By default, all funding sources are returned unless the <code class="prettyprint">removed</code> querystring parameter is set to <code class="prettyprint">false</code> in the request.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Funding</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/accounts/{id}/funding-sources</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Account&rsquo;s unique identifier.</td>
</tr>
<tr>
<td>removed</td>
<td>no</td>
<td>boolean</td>
<td>Filter removed funding sources. Defaults to <code class="prettyprint">true</code>. Set to <code class="prettyprint">false</code> to filter out removed funding sources from list (i.e. - /accounts/{id}/funding-sources?removed=false).</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Not authorized to list funding sources.</td>
</tr>
<tr>
<td>404</td>
<td>Account not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/funding-sources
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/funding-sources"
    }
  },
  "_embedded": {
    "funding-sources": [
      {
        "_links": {
          "self": {
            "href": "https://api-uat.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3"
          },
          "account": {
            "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
          }
        },
        "id": "04173e17-6398-4d36-a167-9d98c4b1f1c3",
        "status": "verified",
        "type": "bank",
        "name": "First Midwestern Bank",
        "created": "2014-07-09T20:39:37.000Z"
      },
      {
        "_links": {
          "self": {
            "href": "https://api-uat.dwolla.com/funding-sources/b268f6b9-db3b-4ecc-83a2-8823a53ec8b7"
          },
          "account": {
            "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
          },
          "with-available-balance": {
            "href": "https://api-uat.dwolla.com/funding-sources/b268f6b9-db3b-4ecc-83a2-8823a53ec8b7"
          }
        },
        "id": "b268f6b9-db3b-4ecc-83a2-8823a53ec8b7",
        "status": "verified",
        "type": "balance",
        "name": "Balance",
        "created": "2014-07-09T20:39:33.000Z"
      }
    ]
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">account_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">funding_sources</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">account_url</span><span class="si">}</span><span class="s2">/funding-sources"</span>
<span class="n">funding_sources</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">name</span> <span class="c1"># =&gt; "Jane Doe's Checking"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">funding_sources</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">FundingsourcesApi</span><span class="p">.</span><span class="nf">get_account_funding_sources</span><span class="p">(</span><span class="n">account_url</span><span class="p">)</span>
<span class="n">funding_sources</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="ss">:'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="c1"># =&gt; "Jane Doe’s Checking"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$accountUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSources</span> <span class="o">=</span> <span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">getAccountFundingSources</span><span class="p">(</span><span class="nv">$accountUrl</span><span class="p">);</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'funding-sources'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">);</span> <span class="c1"># =&gt; "Jane Doe’s Checking"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">account_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="n">fs_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">FundingsourcesApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">funding_sources</span> <span class="o">=</span> <span class="n">fs_api</span><span class="o">.</span><span class="n">get_account_funding_sources</span><span class="p">(</span><span class="n">account_url</span><span class="p">)</span>

<span class="n">funding_sources</span><span class="o">.</span><span class="n">_embedded</span><span class="p">[</span><span class="s">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'name'</span><span class="p">]</span> <span class="c"># =&gt; Jane Doe’s Checking</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">accountUrl</span><span class="p">}</span><span class="sr">/funding-sources`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">name</span><span class="p">;</span> <span class="c1">// =&gt; 'ABC Bank Checking'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='list-an-account39s-transfers'>List an Account&rsquo;s transfers</h2>
<p>This section covers how to retrieve an Account&rsquo;s list of transfers. Transaction search is supported by passing in optional querystring parameters such as: <code class="prettyprint">search</code> which represents a term to search on, <code class="prettyprint">startAmount</code>, <code class="prettyprint">endAmount</code>, <code class="prettyprint">startDate</code>, and <code class="prettyprint">endDate</code>.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Transactions</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/accounts/{id}/transfers</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Account unique identifier to get transfers for.</td>
</tr>
<tr>
<td>search</td>
<td>no</td>
<td>string</td>
<td>A string to search on fields: <code class="prettyprint">firstName</code>, <code class="prettyprint">lastName</code>, <code class="prettyprint">email</code>, <code class="prettyprint">businessName</code>, Customer Id, and Account Id. (<code class="prettyprint">/transfers?search=Doe</code>)</td>
</tr>
<tr>
<td>startAmount</td>
<td>no</td>
<td>string</td>
<td>Only include transactions with an amount equal to or greater than <code class="prettyprint">startAmount</code>. Can optionally be used with <code class="prettyprint">endAmount</code> to specify an amount range.</td>
</tr>
<tr>
<td>endAmount</td>
<td>no</td>
<td>string</td>
<td>Only include transactions with an amount equal to or less than <code class="prettyprint">endAmount</code>. Can optionally be used with <code class="prettyprint">startAmount</code> to specify an amount range.</td>
</tr>
<tr>
<td>startDate</td>
<td>no</td>
<td>string</td>
<td>Only include transactions created after this date. ISO-8601 format: <code class="prettyprint">YYYY-MM-DD</code>. Can optionally be used with <code class="prettyprint">endDate</code> to specify a date range.</td>
</tr>
<tr>
<td>endDate</td>
<td>no</td>
<td>string</td>
<td>Only include transactions created before than this date. ISO-8601 format: <code class="prettyprint">YYYY-MM-DD</code>. Can optionally be used with <code class="prettyprint">startDate</code> to specify a date range.</td>
</tr>
<tr>
<td>status</td>
<td>no</td>
<td>string</td>
<td>Filter results on transaction status. Possible values: <code class="prettyprint">pending</code>, <code class="prettyprint">processed</code>, <code class="prettyprint">failed</code>, <code class="prettyprint">reclaimed</code>, or <code class="prettyprint">cancelled</code>.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>Number of search results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>Number of search results to skip. Used for pagination.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Account not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/accounts/a84222d5-31d2-4290-9a96-089813ef96b3/transfers
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/accounts/a84222d5-31d2-4290-9a96-089813ef96b3/transfers"
    },
    "first": {
      "href": "https://api-uat.dwolla.com/accounts/a84222d5-31d2-4290-9a96-089813ef96b3/transfers?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api-uat.dwolla.com/accounts/a84222d5-31d2-4290-9a96-089813ef96b3/transfers?limit=25&amp;offset=0"
    }
  },
  "_embedded": {
    "transfers": [
      {
        "_links": {
          "self": {
            "href": "https://api-uat.dwolla.com/transfers/DC68A3DC-3C61-E511-80DA-0AA34A9B2388"
          },
          "source": {
            "href": "https://api-uat.dwolla.com/accounts/CA32853C-48FA-40BE-AE75-77B37504581B"
          },
          "destination": {
            "href": "https://api-uat.dwolla.com/accounts/A84222D5-31D2-4290-9A96-089813EF96B3"
          }
        },
        "id": "DC68A3DC-3C61-E511-80DA-0AA34A9B2388",
        "status": "processed",
        "amount": {
          "value": "50.00",
          "currency": "USD"
        },
        "created": "2015-09-22T15:16:14.180Z"
      },
      {
        "_links": {
          "self": {
            "href": "https://api-uat.dwolla.com/transfers/D36FD9AA-6E5C-E511-80DA-0AA34A9B2388"
          },
          "source": {
            "href": "https://api-uat.dwolla.com/funding-sources/2BFF2631-4006-45D6-BBBD-A7BE4853E870"
          },
          "destination": {
            "href": "https://api-uat.dwolla.com/accounts/A84222D5-31D2-4290-9A96-089813EF96B3"
          }
        },
        "id": "D36FD9AA-6E5C-E511-80DA-0AA34A9B2388",
        "status": "processed",
        "amount": {
          "value": "5000.00",
          "currency": "USD"
        },
        "created": "2015-09-03T18:11:53.410Z"
      }
    ]
  },
  "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">account_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/accounts/a84222d5-31d2-4290-9a96-089813ef96b3'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">transfers</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">account_url</span><span class="si">}</span><span class="s2">/transfers"</span>
<span class="n">transfers</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">.</span><span class="nf">transfers</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">status</span> <span class="c1"># =&gt; "processed"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">transfers</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">TransfersApi</span><span class="p">.</span><span class="nf">get_account_transfers</span><span class="p">(</span><span class="n">account_url</span><span class="p">)</span>
<span class="n">transfers</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="ss">:transfers</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="ss">:status</span><span class="p">]</span> <span class="c1"># =&gt; "processed"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/accounts/a84222d5-31d2-4290-9a96-089813ef96b3'</span><span class="p">;</span>

<span class="nv">$transfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transfers</span> <span class="o">=</span> <span class="nv">$transfersApi</span><span class="o">-&gt;</span><span class="na">getAccountTransfers</span><span class="p">(</span><span class="nv">$accountUrl</span><span class="p">);</span>
<span class="nv">$transfers</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="na">transfers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "processed"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">account_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/accounts/a84222d5-31d2-4290-9a96-089813ef96b3'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">transfers</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/transfers'</span> <span class="o">%</span> <span class="n">account_url</span><span class="p">)</span>
<span class="n">transfers</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'transfers'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; "processed"</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">transfers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">TransfersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">transfers</span> <span class="o">=</span> <span class="n">transfers_api</span><span class="o">.</span><span class="n">get_account_transfers</span><span class="p">(</span><span class="n">account_url</span><span class="p">)</span>
<span class="n">transfers</span><span class="o">.</span><span class="n">_embedded</span><span class="p">[</span><span class="s">'transfers'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; "processed"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">accountUrl</span><span class="p">}</span><span class="sr">/transfers`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">transfers</span><span class="p">.[</span><span class="mi">0</span><span class="p">].</span><span class="nx">status</span><span class="p">;</span> <span class="c1">// =&gt; 'processed'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='list-an-account39s-mass-payments'>List an Account&rsquo;s mass payments</h2>
<p>This section covers how to retrieve an Account&rsquo;s list of previously created mass payments. Mass payments are returned ordered by date created, with most recent mass payments appearing first.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Transactions</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/accounts/{id}/mass-payments</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Account unique identifier to get mass payments for.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>How many results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>How many results to skip.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>NotAuthorized</td>
<td>Not authorized to list mass payments.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Account not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/mass-payments
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

....

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/mass-payments"
    },
    "first": {
      "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/mass-payments?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/mass-payments?limit=25&amp;offset=0"
    }
  },
  "_embedded": {
    "mass-payments": [
      {
        "_links": {
          "self": {
            "href": "https://api-uat.dwolla.com/mass-payments/b4b5a699-5278-4727-9f81-a50800ea9abc"
          },
          "source": {
            "href": "https://api-uat.dwolla.com/funding-sources/84c77e52-d1df-4a33-a444-51911a9623e9"
          },
          "items": {
            "href": "https://api-uat.dwolla.com/mass-payments/b4b5a699-5278-4727-9f81-a50800ea9abc/items"
          }
        },
        "id": "b4b5a699-5278-4727-9f81-a50800ea9abc",
        "status": "complete",
        "created": "2015-09-03T14:14:10.000Z",
        "metadata": {
          "UserJobId": "some ID"
        }
      }
    ]
  },
  "total": 1
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">account_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">mass_payments</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">account_url</span><span class="si">}</span><span class="s2">/mass-payments"</span><span class="p">,</span> <span class="ss">limit: </span><span class="mi">10</span>
<span class="n">mass_payments</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">status</span> <span class="c1"># =&gt; "complete"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet. Coming soon.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">account_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">transfers</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/mass-payments'</span> <span class="o">%</span> <span class="n">account_url</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">transfers</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; "complete"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">accountUrl</span><span class="p">}</span><span class="sr">/mass-payments`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">status</span><span class="p">;</span> <span class="c1">// =&gt; 'complete'</span>
  <span class="p">});</span>
</code></pre></div></div>
            <h1 id='customers'>Customers</h1>
<p>A Customer represents an individual or business with whom you intend to transact with and is programmatically created and managed by a Dwolla account via the API. In order for a Dwolla <code class="prettyprint">Account</code> to create and manage Customers, an OAuth access token with the <code class="prettyprint">ManageCustomers</code> OAuth scope is required.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This section outlines functionality for <a href="https://www.dwolla.com/white-label">Dwolla White Label</a>, a premium product that only approved partners may access in production. To learn more about entering into a White Label agreement, please <a href="https://www.dwolla.com/contact?b=apidocs">contact Sales</a>.</p>
</li></ol><h3 id='verified-and-unverified-customers'>Verified and unverified Customers</h3>
<p>With a transfer of money, at least one party must complete the identity verification process, either the sender or the receiver. It’s your decision about which party completes this process, based on your business model, and you may want to have both parties complete the identity verification process. In cases where a Customer is sending funds to or receiving funds from your account, the Customer can remain unverified because your account is already verified. However, if you need to transfer funds between your Customers, at least one of them will need to be verified.</p>

<p>For more information on white label account types, reference the <a href="https://developers.dwolla.com/resources/account-types/white-label-accounts.html">account types</a> resource article.</p>
<h3 id='receive-only'>Receive-only</h3>
<p>Receive-only customers are restricted to a &ldquo;payouts only&rdquo; business model. A receive-only customer maintains limited functionality in the API and is only eligible to receive transfers to an attached bank account from the Dwolla <code class="prettyprint">Account</code> that created it.</p>
<h3 id='migrating-dwolla-user-accounts-to-white-label-customers'>Migrating Dwolla user Accounts to White Label Customers</h3>
<p>Dwolla offers a seamless process for migrating existing user <a href="#accounts">Accounts</a> managed via OAuth on your platform to White Label <a href="#customers">Customers</a>. The user Account will maintain existing functionality on dwolla.com and will act as a separate White Label Customer upon completion of the migration. To learn more about upgrading to White Label, please <a href="https://www.dwolla.com/contact?b=apidocs">contact Sales</a>.</p>
<h3 id='customer-links'>Customer links</h3>
<table><thead>
<tr>
<th>Link</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>self</td>
<td>URL of the Customer resource</td>
</tr>
<tr>
<td>receive</td>
<td>Follow the link to create a transfer to this Customer.</td>
</tr>
<tr>
<td>funding-sources</td>
<td>GET this link to list the Customer&rsquo;s funding sources.</td>
</tr>
<tr>
<td>transfers</td>
<td>GET this link to list the Customer&rsquo;s transfers</td>
</tr>
<tr>
<td>send</td>
<td>(optional) If this link exists, this Customer can send funds.  POST to this URL to create a transfer.</td>
</tr>
<tr>
<td>retry-verification</td>
<td>If the Customer has a <code class="prettyprint">status</code> of <code class="prettyprint">retry</code>, POST to this link to attempt to correct their identity verification information.</td>
</tr>
<tr>
<td>verify-with-document</td>
<td>If the Customer has a <code class="prettyprint">status</code> of <code class="prettyprint">document</code>, POST to this link to upload a new photo document to verify the Customer&rsquo;s identity.  Read about <a href="#documents">Documents</a>.</td>
</tr>
</tbody></table>
<h3 id='customer-resource'>Customer resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Customer’s unique identifier.</td>
</tr>
<tr>
<td>firstName</td>
<td>Customer&rsquo;s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>Customer&rsquo;s last name.</td>
</tr>
<tr>
<td>email</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>type</td>
<td>Either <code class="prettyprint">unverified</code>, <code class="prettyprint">personal</code>, <code class="prettyprint">business</code>, or <code class="prettyprint">receive-only</code>.</td>
</tr>
<tr>
<td>status</td>
<td>If type is <strong>unverified</strong> or <strong>receive-only</strong>: status is <code class="prettyprint">unverified</code> or <code class="prettyprint">suspended</code>. <br> If type is <strong>personal</strong> or <strong>business</strong>: status is <code class="prettyprint">retry</code>, <code class="prettyprint">document</code>, <code class="prettyprint">verified</code>, or <code class="prettyprint">suspended</code>.</td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp.</td>
</tr>
</tbody></table>
<h3 id='customer-statuses'>Customer statuses</h3>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>unverified</td>
<td>Customers of type <code class="prettyprint">unverified</code> or <code class="prettyprint">receive-only</code> always have this status.</td>
</tr>
<tr>
<td>retry</td>
<td>Customers of type <code class="prettyprint">personal</code> or <code class="prettyprint">business</code> can have this status. The initial verification attempt failed because the information provided did not satisfy our verification check.  You can make one additional attempt by changing some or all the attributes of the existing Customer with a POST request. If the additional attempt fails, the resulting status will be either <code class="prettyprint">document</code> or <code class="prettyprint">suspended</code>.</td>
</tr>
<tr>
<td>document</td>
<td>Customers of type <code class="prettyprint">personal</code> or <code class="prettyprint">business</code> can have this status. Dwolla requires additional documentation to identify the Customer in the <code class="prettyprint">document</code> status.  Read about <a href="#documents">Documents</a>.</td>
</tr>
<tr>
<td>verified</td>
<td>Customers of type <code class="prettyprint">personal</code> or <code class="prettyprint">business</code> can have this status. The Customer is currently verified.</td>
</tr>
<tr>
<td>suspended</td>
<td>All Customer types can have a status of <code class="prettyprint">suspended</code>. The Customer is suspended and may neither send nor receive funds. Contact Dwolla support for more information.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/730CA23F-06C5-45CC-AA6B-8EC2D6EE109F"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"receive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/transfers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"funding-sources"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/730CA23F-06C5-45CC-AA6B-8EC2D6EE109F/funding-sources"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/730CA23F-06C5-45CC-AA6B-8EC2D6EE109F/transfers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"send"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/transfers"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"730CA23F-06C5-45CC-AA6B-8EC2D6EE109F"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"janedoe@nomail.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"personal"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-06T01:18:26.923Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='create-a-customer'>Create a Customer</h2>
<p>This section details how to create a new Customer.  To create an unverified Customer, you need to provide only the customer&rsquo;s full name and email address.  Verified Customers require additional information that will give Dwolla the ability to confirm the identity of the individual or business. Verified Customers can include type <code class="prettyprint">business</code> or <code class="prettyprint">personal</code>. For businesses, Dwolla will need to verify information about both the business and the “authorized representative” for that business. For receive-only customers, you&rsquo;ll provide the customer&rsquo;s full name, <code class="prettyprint">type</code> with the value of <code class="prettyprint">receive-only</code>, and <code class="prettyprint">businessName</code> if applicable.</p>

<p>For more information on verified Customers, reference our <a href="https://developers.dwolla.com/resources/customer-verification.html">Customer verification</a> resource article.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers</code></p>
<h3 id='request-parameters---unverified-customer'>Request parameters - unverified Customer</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s last name.</td>
</tr>
<tr>
<td>email</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s IP address.</td>
</tr>
</tbody></table>
<h3 id='request-parameters---verified-customer'>Request parameters - verified Customer</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>Customer or if business, authorized representative’s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>Customer or if business, authorized representative’s last name.</td>
</tr>
<tr>
<td>email</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s IP address.</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>string</td>
<td>Either <code class="prettyprint">personal</code> or <code class="prettyprint">business</code>. If business, <a href="#additional-request-parameters-for-verified-customer-with-typebusiness">see below</a> for additional required information.</td>
</tr>
<tr>
<td>address1</td>
<td>yes</td>
<td>string</td>
<td>First line of the street address of the Customer&rsquo;s permanent residence. Must be 50 characters or less.</td>
</tr>
<tr>
<td>address2</td>
<td>no</td>
<td>string</td>
<td>Second line of the street address of the Customer&rsquo;s permanent residence. Must be 50 characters or less.</td>
</tr>
<tr>
<td>city</td>
<td>yes</td>
<td>string</td>
<td>City of Customer&rsquo;s permanent residence.</td>
</tr>
<tr>
<td>state</td>
<td>yes</td>
<td>string</td>
<td>Two letter abbreviation of the state in which the Customer resides, e.g. <code class="prettyprint">CA</code>.</td>
</tr>
<tr>
<td>postalCode</td>
<td>yes</td>
<td>string</td>
<td>Postal code of Customer&rsquo;s permanent residence. Should be a five digit postal code, e.g. <code class="prettyprint">50314</code>.</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>yes</td>
<td>string</td>
<td>Customer or if business, authorized representative’s date of birth in <code class="prettyprint">YYYY-MM-DD</code> format.</td>
</tr>
<tr>
<td>ssn</td>
<td>yes</td>
<td>string</td>
<td>Last four digits of the Customer&rsquo;s Social Security Number.</td>
</tr>
<tr>
<td>phone</td>
<td>yes</td>
<td>string</td>
<td>Customer or if business, authorized representative’s 10 digit phone number.  No hyphens or other separators, e.g. <code class="prettyprint">3334447777</code>.</td>
</tr>
</tbody></table>
<h3 id='additional-request-parameters-for-verified-customer-with-typebusiness'>Additional request parameters for verified Customer with type=business</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>businessClassification</td>
<td>yes</td>
<td>string</td>
<td>The <a href="#list-business-classifications">industry classification</a> id that corresponds to Customer’s business</td>
</tr>
<tr>
<td>businessType</td>
<td>yes</td>
<td>string</td>
<td>Business structure. Possible values are <code class="prettyprint">corporation</code>, <code class="prettyprint">llc</code>, <code class="prettyprint">partnership</code>, and <code class="prettyprint">soleproprietorship</code></td>
</tr>
<tr>
<td>businessName</td>
<td>yes</td>
<td>string</td>
<td>Customer’s registered business name.</td>
</tr>
<tr>
<td>ein</td>
<td>yes</td>
<td>string</td>
<td>Employer Identification Number.</td>
</tr>
<tr>
<td>doingBusinessAs</td>
<td>no</td>
<td>string</td>
<td>Name that is different from the officially registered name of Customer’s business.</td>
</tr>
<tr>
<td>website</td>
<td>no</td>
<td>string</td>
<td>www.domain.com</td>
</tr>
</tbody></table>
<h3 id='request-parameters---receive-only'>Request parameters - receive-only</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s last name.</td>
</tr>
<tr>
<td>email</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>string</td>
<td>Value of <code class="prettyprint">receive-only</code>.</td>
</tr>
<tr>
<td>businessName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s registered business name. (<strong>Optional</strong> if not a business entity)</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s IP address.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Duplicate customer or validation error.</td>
</tr>
<tr>
<td>403</td>
<td>Not authorized to create customers.</td>
</tr>
</tbody></table>
<h3 id='unverified-customer'>Unverified Customer</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /customers
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "Jane",
  "lastName": "Merchant",
  "email": "jmerchant@nomail.net",
  "ipAddress": "99.99.99.99"
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:firstName</span> <span class="o">=&gt;</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="ss">:lastName</span> <span class="o">=&gt;</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="ss">:ipAddress</span> <span class="o">=&gt;</span> <span class="s1">'99.99.99.99'</span>
<span class="p">}</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">customer</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">CustomersApi</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">:body</span> <span class="o">=&gt;</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
  <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="s1">'ipAddress'</span> <span class="o">=&gt;</span> <span class="s1">'99.99.99.99'</span>
<span class="p">]);</span>

<span class="nv">$customer</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'firstName'</span><span class="p">:</span> <span class="s">'Jane'</span><span class="p">,</span>
  <span class="s">'lastName'</span><span class="p">:</span> <span class="s">'Merchant'</span><span class="p">,</span>
  <span class="s">'email'</span><span class="p">:</span> <span class="s">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="s">'ipAddress'</span><span class="p">:</span> <span class="s">'99.99.99.99'</span>
<span class="p">}</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">customers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">CustomersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">customers_api</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">body</span> <span class="o">=</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span> <span class="c"># =&gt; 'https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="na">ipAddress</span><span class="p">:</span> <span class="s1">'99.99.99.99'</span>
<span class="p">};</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">);</span> <span class="c1">// =&gt; 'https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>
  <span class="p">});</span>
</code></pre></div></div><h3 id='verified-customer'>Verified Customer</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /customers
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "John",
  "lastName": "Doe",
  "email": "johndoe@nomail.net",
  "ipAddress": "10.10.10.10",
  "type": "personal",
  "address1": "99-99 33rd St",
  "city": "Some City",
  "state": "NY",
  "postalCode": "11101",
  "dateOfBirth": "1970-01-01",
  "ssn": "1234",
  "phone": "5155555555"
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
  <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'jdoe@nomail.net'</span><span class="p">,</span>
  <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'personal'</span><span class="p">,</span>
  <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
  <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'Some City'</span><span class="p">,</span>
  <span class="s1">'state'</span> <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
  <span class="s1">'postalCode'</span> <span class="o">=&gt;</span> <span class="s1">'11101'</span><span class="p">,</span>
  <span class="s1">'dateOfBirth'</span> <span class="o">=&gt;</span> <span class="s1">'1970-01-01'</span><span class="p">,</span>

  <span class="c1"># For the first attempt, only the
</span>  <span class="c1"># last 4 digits of SSN required
</span>
  <span class="c1"># If the entire SSN is provided,
</span>  <span class="c1"># it will still be accepted
</span>  <span class="s1">'ssn'</span> <span class="o">=&gt;</span> <span class="s1">'1234'</span><span class="p">,</span>
  <span class="s1">'phone'</span> <span class="o">=&gt;</span> <span class="s1">'5155555555'</span>
<span class="p">]);</span>

<span class="nv">$customer</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:firstName</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="ss">:lastName</span> <span class="o">=&gt;</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'jdoe@nomail.net'</span><span class="p">,</span>
  <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s1">'personal'</span><span class="p">,</span>
  <span class="ss">:address1</span> <span class="o">=&gt;</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
  <span class="ss">:city</span> <span class="o">=&gt;</span> <span class="s1">'Some City'</span><span class="p">,</span>
  <span class="ss">:state</span> <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
  <span class="ss">:postalCode</span> <span class="o">=&gt;</span> <span class="s1">'11101'</span><span class="p">,</span>
  <span class="ss">:dateOfBirth</span> <span class="o">=&gt;</span> <span class="s1">'1970-01-01'</span><span class="p">,</span>

  <span class="c1"># For the first attempt, only the</span>
  <span class="c1"># last 4 digits of SSN required</span>

  <span class="c1"># If the entire SSN is provided,</span>
  <span class="c1"># it will still be accepted</span>

  <span class="ss">:ssn</span> <span class="o">=&gt;</span> <span class="s1">'1234'</span><span class="p">,</span>
  <span class="ss">:phone</span> <span class="o">=&gt;</span> <span class="s1">'5155555555'</span>
<span class="p">}</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">customer</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">CustomersApi</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">:body</span> <span class="o">=&gt;</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'firstName'</span><span class="p">:</span> <span class="s">'John'</span><span class="p">,</span>
  <span class="s">'lastName'</span><span class="p">:</span> <span class="s">'Doe'</span><span class="p">,</span>
  <span class="s">'email'</span><span class="p">:</span> <span class="s">'jdoe@nomail.net'</span><span class="p">,</span>
  <span class="s">'type'</span><span class="p">:</span> <span class="s">'personal'</span><span class="p">,</span>
  <span class="s">'address1'</span><span class="p">:</span> <span class="s">'99-99 33rd St'</span><span class="p">,</span>
  <span class="s">'city'</span><span class="p">:</span> <span class="s">'Some City'</span><span class="p">,</span>
  <span class="s">'state'</span><span class="p">:</span> <span class="s">'NY'</span><span class="p">,</span>
  <span class="s">'postalCode'</span><span class="p">:</span> <span class="s">'11101'</span><span class="p">,</span>
  <span class="s">'dateOfBirth'</span><span class="p">:</span> <span class="s">'1970-01-01'</span><span class="p">,</span>
  <span class="c"># For the first attempt, only the</span>
  <span class="c"># last 4 digits of SSN required</span>
  <span class="c"># If the entire SSN is provided,</span>
  <span class="c"># it will still be accepted</span>
  <span class="s">'ssn'</span><span class="p">:</span> <span class="s">'1234'</span><span class="p">,</span>
  <span class="s">'phone'</span><span class="p">:</span> <span class="s">'5155555555'</span>
<span class="p">}</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">customers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">CustomersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">customers_api</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">body</span> <span class="o">=</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span> <span class="c"># =&gt; 'https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">'jdoe@nomail.net'</span><span class="p">,</span>
  <span class="na">type</span><span class="p">:</span> <span class="s1">'personal'</span><span class="p">,</span>
  <span class="na">address1</span><span class="p">:</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
  <span class="na">city</span><span class="p">:</span> <span class="s1">'Some City'</span><span class="p">,</span>
  <span class="na">state</span><span class="p">:</span> <span class="s1">'NY'</span><span class="p">,</span>
  <span class="na">postalCode</span><span class="p">:</span> <span class="s1">'11101'</span><span class="p">,</span>
  <span class="na">dateOfBirth</span><span class="p">:</span> <span class="s1">'1970-01-01'</span><span class="p">,</span>
  <span class="c1">// For the first attempt, only the</span>
  <span class="c1">// last 4 digits of SSN required</span>
  <span class="c1">// If the entire SSN is provided,</span>
  <span class="c1">// it will still be accepted</span>
  <span class="na">ssn</span><span class="p">:</span> <span class="s1">'1234'</span><span class="p">,</span>
  <span class="na">phone</span><span class="p">:</span> <span class="s1">'5155555555'</span>
<span class="p">};</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">);</span> <span class="c1">// =&gt; 'https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>
  <span class="p">});</span>
</code></pre></div></div><h3 id='receive-only-customer'>Receive-only customer</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /customers
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "Jane",
  "lastName": "Merchant",
  "email": "jmerchant@nomail.net",
  "type": "receive-only",
  "businessName": "Jane Corp llc",
  "ipAddress": "99.99.99.99"
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:firstName</span> <span class="o">=&gt;</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="ss">:lastName</span> <span class="o">=&gt;</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s1">'receive-only'</span><span class="p">,</span>
  <span class="ss">:businessName</span> <span class="o">=&gt;</span> <span class="s1">'Jane Corp llc'</span><span class="p">,</span>
  <span class="ss">:ipAddress</span> <span class="o">=&gt;</span> <span class="s1">'99.99.99.99'</span>
<span class="p">}</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">customer</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">CustomersApi</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">:body</span> <span class="o">=&gt;</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
  <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'receive-only'</span><span class="p">,</span>
  <span class="s1">'businessName'</span> <span class="o">=&gt;</span> <span class="s1">'Jane Corp llc'</span><span class="p">,</span>
  <span class="s1">'ipAddress'</span> <span class="o">=&gt;</span> <span class="s1">'99.99.99.99'</span>
<span class="p">]);</span>
<span class="nv">$customer</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'firstName'</span><span class="p">:</span> <span class="s">'Jane'</span><span class="p">,</span>
  <span class="s">'lastName'</span><span class="p">:</span> <span class="s">'Merchant'</span><span class="p">,</span>
  <span class="s">'email'</span><span class="p">:</span> <span class="s">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="s">'type'</span><span class="p">:</span> <span class="s">'receive-only'</span><span class="p">,</span>
  <span class="s">'businessName'</span><span class="p">:</span> <span class="s">'Jane Corp llc'</span><span class="p">,</span>
  <span class="s">'ipAddress'</span><span class="p">:</span> <span class="s">'99.99.99.99'</span>
<span class="p">}</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">customers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">CustomersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">customers_api</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">body</span> <span class="o">=</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span> <span class="c"># =&gt; 'https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="na">type</span><span class="p">:</span> <span class="s1">'receive-only'</span><span class="p">,</span>
  <span class="na">businessName</span><span class="p">:</span> <span class="s1">'Jane Corp llc'</span><span class="p">,</span>
  <span class="na">ipAddress</span><span class="p">:</span> <span class="s1">'99.99.99.99'</span>
<span class="p">};</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">);</span> <span class="c1">// =&gt; 'https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='list-business-classifications'>List business classifications</h2>
<p>Retrieve a list of industry classifications to identify the Customer’s business. An industry classification is required by Dwolla when verifying a <code class="prettyprint">business</code> in order to better analyze the nature of a business.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/business-classifications</code></p>
<h3 id='request-and-response'>Request and response:</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">GET https://api-uat.dwolla.com/business-classifications
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {},
  "_embedded": {
    "business-classifications": [
      {
        "_links": {
          "self": {
            "href": "https://api-uat.dwolla.com/business-classifications/9ed3f669-7d6f-11e3-b545-5404a6144203"
          }
        },
        "_embedded": {
          "industry-classifications": [
            {
              "id": "9ed3f671-7d6f-11e3-803c-5404a6144203",
              "name": "Gourmet foods"
            },
            {
              "id": "9ed3f66c-7d6f-11e3-86ae-5404a6144203",
              "name": "Distilleries"
            },
            {
              "id": "9ed3f66a-7d6f-11e3-8acd-5404a6144203",
              "name": "Breweries"
            },
            {
              "id": "9ed3f66d-7d6f-11e3-9101-5404a6144203",
              "name": "Alcoholic beverage drinking places"
            },
            {
              "id": "9ed3f66e-7d6f-11e3-9480-5404a6144203",
              "name": "Beer, wine, and liquor store"
            },
            {
              "id": "9ed3f66b-7d6f-11e3-95ac-5404a6144203",
              "name": "Wineries"
            },
            {
              "id": "9ed3f674-7d6f-11e3-9619-5404a6144203",
              "name": "Tobacco"
            },
            {
              "id": "9ed3f673-7d6f-11e3-adb1-5404a6144203",
              "name": "Restaurant"
            },
            {
              "id": "9ed3f676-7d6f-11e3-af8e-5404a6144203",
              "name": "Supplement store"
            },
            {
              "id": "9ed3f675-7d6f-11e3-afad-5404a6144203",
              "name": "Pharmacy and drugstore"
            },
            {
              "id": "9ed3f670-7d6f-11e3-b1ce-5404a6144203",
              "name": "Coffee and tea"
            },
            {
              "id": "9ed3f66f-7d6f-11e3-b1df-5404a6144203",
              "name": "Catering services"
            },
            {
              "id": "9ed3f672-7d6f-11e3-b67a-5404a6144203",
              "name": "Specialty and miscellaneous food store"
            }
          ]
        },
        "id": "9ed3f669-7d6f-11e3-b545-5404a6144203",
        "name": "Food retail and service"
      }
      ...........
    ]
  },
  "total": 27
}
</code></pre></div></div><h2 id='get-business-classification-by-id'>Get business classification by id</h2>
<p>This section shows you how to retrieve a business classification from a list of industry classifications. An industry classification id is needed in order to verify a <code class="prettyprint">business</code> Customer.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/business-classifications/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Business classification unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">GET https://api-uat.dwolla.com/business-classifications/9ed3a866-7d6f-11e3-a0ce-5404a6144203
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/business-classifications/9ed3a866-7d6f-11e3-a0ce-5404a6144203"
    }
  },
  "_embedded": {
    "industry-classifications": [
      {
        "id": "9ed3cf58-7d6f-11e3-81a4-5404a6144203",
        "name": "Toys and games"
      },
      {
        "id": "9ed3cf50-7d6f-11e3-8ae8-5404a6144203",
        "name": "Music"
      },
      {
        "id": "9ed3cf5c-7d6f-11e3-8d0e-5404a6144203",
        "name": "Gambling"
      },
      {
        "id": "9ed3cf53-7d6f-11e3-8ee9-5404a6144203",
        "name": "Cable, satellite, and other pay TV and radio broadcasting"
      },
      {
        "id": "9ed3cf59-7d6f-11e3-9158-5404a6144203",
        "name": "Slot machines"
      },
      {
        "id": "9ed3cf57-7d6f-11e3-921d-5404a6144203",
        "name": "Theater tickets"
      },
      {
        "id": "9ed3cf4f-7d6f-11e3-97ea-5404a6144203",
        "name": "Motion picture and video"
      },
      {
        "id": "9ed3cf5a-7d6f-11e3-9a99-5404a6144203",
        "name": "Digital content"
      },
      {
        "id": "9ed3cf5b-7d6f-11e3-a368-5404a6144203",
        "name": "Entertainers"
      },
      {
        "id": "9ed3a867-7d6f-11e3-a6e4-5404a6144203",
        "name": "Memorabilia"
      },
      {
        "id": "9ed3cf52-7d6f-11e3-b0da-5404a6144203",
        "name": "Music store - CDs, cassettes and albums"
      },
      {
        "id": "9ed3cf5d-7d6f-11e3-b35e-5404a6144203",
        "name": "Online gaming"
      },
      {
        "id": "9ed3cf55-7d6f-11e3-b43c-5404a6144203",
        "name": "Adult digital content"
      },
      {
        "id": "9ed3cf51-7d6f-11e3-b49f-5404a6144203",
        "name": "Movie store - DVDs, videotapes"
      },
      {
        "id": "9ed3cf5e-7d6f-11e3-b9d5-5404a6144203",
        "name": "Video games and systems"
      },
      {
        "id": "9ed3cf56-7d6f-11e3-ba87-5404a6144203",
        "name": "Concert tickets"
      },
      {
        "id": "9ed3cf54-7d6f-11e3-bf23-5404a6144203",
        "name": "Cable and other subscription programming"
      }
    ]
  },
  "id": "9ed3a866-7d6f-11e3-a0ce-5404a6144203",
  "name": "Entertainment and media"
}
</code></pre></div></div><h2 id='update-a-customer'>Update a Customer</h2>
<p>This endpoint can be used to facilitate the following use cases: Update Customer information, upgrade an <code class="prettyprint">unverified</code> Customer to a <code class="prettyprint">verified</code> Customer, <code class="prettyprint">suspend</code> a Customer, and update a verified Customer&rsquo;s information to <code class="prettyprint">retry</code> verification.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}</code></p>
<h3 id='update-a-customer39s-information'>Update a Customer&rsquo;s information</h3>
<p>A limited set of information can be updated on an existing created Customer. <strong>Note:</strong> A Customer&rsquo;s information cannot be updated when in a <a href="#customer-statuses">status</a> of <code class="prettyprint">document</code> or <code class="prettyprint">suspended</code>.</p>
<h5 id='request-parameters---unverified-customer'>Request parameters -  unverified Customer</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s last name.</td>
</tr>
<tr>
<td>email</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
</tbody></table>
<h5 id='request-parameters---verified-customer'>Request parameters -  verified Customer</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s IP address</td>
</tr>
<tr>
<td>address1</td>
<td>no</td>
<td>string</td>
<td>First line of the street address of the customer&rsquo;s permanent residence</td>
</tr>
<tr>
<td>address2</td>
<td>no</td>
<td>string</td>
<td>Second line of the street address of the customer&rsquo;s permanent residence</td>
</tr>
<tr>
<td>city</td>
<td>no</td>
<td>string</td>
<td>City of customer&rsquo;s peramanent residence</td>
</tr>
<tr>
<td>state</td>
<td>no</td>
<td>string</td>
<td>Two letter abbreviation of the state in which the customer resides.  e.g. <code class="prettyprint">NY</code></td>
</tr>
<tr>
<td>postalCode</td>
<td>no</td>
<td>string</td>
<td>Postal code of customer&rsquo;s permanent residence</td>
</tr>
<tr>
<td>phone</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s 10 digit phone number.  No hyphens or other separators.  e.g. <code class="prettyprint">3334447777</code></td>
</tr>
</tbody></table>
<h5 id='request-parameters---verified-customer-with-typebusiness'>Request parameters - verified Customer with type=business</h5>
<p>In addition to the table above, business verified Customers can update the following fields.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>doingBusinessAs</td>
<td>no</td>
<td>string</td>
<td>Name that is different from the officially registered name of Customer’s business.</td>
</tr>
<tr>
<td>website</td>
<td>no</td>
<td>string</td>
<td>www.domain.com</td>
</tr>
</tbody></table>
<h3 id='upgrade-an-unverified-customer-to-verified-customer'>Upgrade an unverified Customer to verified Customer</h3>
<p>An unverified Customer can be upgraded to a verified Customer by supplying the necessary information required to create a verified Customer. See <a href="#request-parameters-verified-customer">this table</a> for required information.</p>
<h3 id='suspend-a-customer'>Suspend a Customer</h3>
<p>An unverified and verified Customer can be suspended by supplying the status of <code class="prettyprint">suspended</code>. You&rsquo;ll need to contact Dwolla to unsuspend a Customer.</p>
<h5 id='request-parameters'>Request parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>yes</td>
<td>string</td>
<td>Value of <code class="prettyprint">suspended</code>.</td>
</tr>
</tbody></table>
<h3 id='retry-verification'>Retry verification</h3>
<p>If the verified Customer has a status of <code class="prettyprint">retry</code>, some information may have been miskeyed. You have one more opportunity to correct any mistakes using this endpoint. This time, you’ll need to provide the Customer’s full SSN. If the additional attempt fails, the resulting status will be either <code class="prettyprint">document</code> or <code class="prettyprint">suspended</code>.</p>
<h3 id='customer-must-be-in-the-retry-state'>Customer must be in the retry state:</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/730CA23F-06C5-45CC-AA6B-8EC2D6EE109F"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"funding-sources"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/730CA23F-06C5-45CC-AA6B-8EC2D6EE109F/funding-sources"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/730CA23F-06C5-45CC-AA6B-8EC2D6EE109F/transfers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"retry-verification"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/730CA23F-06C5-45CC-AA6B-8EC2D6EE109F"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"730CA23F-06C5-45CC-AA6B-8EC2D6EE109F"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@nomail.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"personal"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"retry"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-06T01:18:26.923Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /customers/132681FA-1B4D-4181-8FF2-619CA46235B1
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "John",
  "lastName": "Doe",
  "email": "jdoe@nomail.com",
  "ipAddress": "10.10.10.10",
  "type": "personal",
  "address1": "221 Corrected Address St..",
  "address2": "Apt 201",
  "city": "San Francisco",
  "state": "CA",
  "postalCode": "94104",
  "dateOfBirth": "1970-07-11",
  "ssn": "123-45-6789"
}

HTTP/1.1 200 OK
Location: https://api.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span><span class="p">;</span>
<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">updateCustomer</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">,</span> <span class="k">array</span> <span class="p">(</span>
  <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'jdoe@nomail.com'</span><span class="p">,</span>
  <span class="s1">'ipAddress'</span> <span class="o">=&gt;</span> <span class="s1">'10.10.10.10'</span><span class="p">,</span>
  <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'personal'</span><span class="p">,</span>
  <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'221 Corrected Address St..'</span><span class="p">,</span>
  <span class="s1">'address2'</span> <span class="o">=&gt;</span> <span class="s1">'Apt 201'</span><span class="p">,</span>
  <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'San Francisco'</span><span class="p">,</span>
  <span class="s1">'state'</span> <span class="o">=&gt;</span> <span class="s1">'CA'</span><span class="p">,</span>
  <span class="s1">'postalCode'</span> <span class="o">=&gt;</span> <span class="s1">'94104'</span><span class="p">,</span>
  <span class="s1">'dateOfBirth'</span> <span class="o">=&gt;</span> <span class="s1">'1970-07-11'</span><span class="p">,</span>
  <span class="s1">'ssn'</span> <span class="o">=&gt;</span> <span class="s1">'123-45-6789'</span><span class="p">,</span>
<span class="p">));</span>
<span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span> <span class="c1"># =&gt; "FC451A7A-AE30-4404-AB95-E3553FCD733F"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">"firstName"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"lastName"</span> <span class="o">=&gt;</span> <span class="s2">"Doe"</span><span class="p">,</span>
          <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"jdoe@nomail.com"</span><span class="p">,</span>
      <span class="s2">"ipAddress"</span> <span class="o">=&gt;</span> <span class="s2">"10.10.10.10"</span><span class="p">,</span>
           <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"personal"</span><span class="p">,</span>
       <span class="s2">"address1"</span> <span class="o">=&gt;</span> <span class="s2">"221 Corrected Address St.."</span><span class="p">,</span>
       <span class="s2">"address2"</span> <span class="o">=&gt;</span> <span class="s2">"Apt 201"</span><span class="p">,</span>
           <span class="s2">"city"</span> <span class="o">=&gt;</span> <span class="s2">"San Francisco"</span><span class="p">,</span>
          <span class="s2">"state"</span> <span class="o">=&gt;</span> <span class="s2">"CA"</span><span class="p">,</span>
     <span class="s2">"postalCode"</span> <span class="o">=&gt;</span> <span class="s2">"94104"</span><span class="p">,</span>
    <span class="s2">"dateOfBirth"</span> <span class="o">=&gt;</span> <span class="s2">"1970-07-11"</span><span class="p">,</span>
            <span class="s2">"ssn"</span> <span class="o">=&gt;</span> <span class="s2">"123-45-6789"</span>
<span class="p">}</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="n">customer_url</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">id</span> <span class="c1"># =&gt; "FC451A7A-AE30-4404-AB95-E3553FCD733F"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">customer</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">CustomersApi</span><span class="p">.</span><span class="nf">update_customer</span><span class="p">(</span><span class="n">customer_url</span><span class="p">,</span> <span class="ss">:body</span> <span class="o">=&gt;</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">id</span> <span class="c1"># =&gt; "FC451A7A-AE30-4404-AB95-E3553FCD733F"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"firstName"</span><span class="p">:</span> <span class="s">"John"</span><span class="p">,</span>
  <span class="s">"lastName"</span><span class="p">:</span> <span class="s">"Doe"</span><span class="p">,</span>
  <span class="s">"email"</span><span class="p">:</span> <span class="s">"jdoe@nomail.com"</span><span class="p">,</span>
  <span class="s">"ipAddress"</span><span class="p">:</span> <span class="s">"10.10.10.10"</span><span class="p">,</span>
  <span class="s">"type"</span><span class="p">:</span> <span class="s">"personal"</span><span class="p">,</span>
  <span class="s">"address1"</span><span class="p">:</span> <span class="s">"221 Corrected Address St.."</span><span class="p">,</span>
  <span class="s">"address2"</span><span class="p">:</span> <span class="s">"Apt 201"</span><span class="p">,</span>
  <span class="s">"city"</span><span class="p">:</span> <span class="s">"San Francisco"</span><span class="p">,</span>
  <span class="s">"state"</span><span class="p">:</span> <span class="s">"CA"</span><span class="p">,</span>
  <span class="s">"postalCode"</span><span class="p">:</span> <span class="s">"94104"</span><span class="p">,</span>
  <span class="s">"dateOfBirth"</span><span class="p">:</span> <span class="s">"1970-07-11"</span><span class="p">,</span>
  <span class="s">"ssn"</span><span class="p">:</span> <span class="s">"123-45-6789"</span>
<span class="p">}</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="nb">id</span> <span class="c"># =&gt; 'FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">customers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">CustomersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">customers_api</span><span class="o">.</span><span class="n">update_customer</span><span class="p">(</span><span class="n">customer_url</span><span class="p">,</span> <span class="n">body</span> <span class="o">=</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="nb">id</span> <span class="c"># =&gt; 'FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s2">"Doe"</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s2">"johndoe@dwolla.com"</span><span class="p">,</span>
  <span class="na">ipAddress</span><span class="p">:</span> <span class="s2">"10.10.10.10"</span><span class="p">,</span>
  <span class="na">type</span><span class="p">:</span> <span class="s2">"personal"</span><span class="p">,</span>
  <span class="na">address1</span><span class="p">:</span> <span class="s2">"221 Corrected Address St.."</span><span class="p">,</span>
  <span class="na">address2</span><span class="p">:</span> <span class="s2">"Fl 8"</span><span class="p">,</span>
  <span class="na">city</span><span class="p">:</span> <span class="s2">"Ridgewood"</span><span class="p">,</span>
  <span class="na">state</span><span class="p">:</span> <span class="s2">"NY"</span><span class="p">,</span>
  <span class="na">postalCode</span><span class="p">:</span> <span class="s2">"11385"</span><span class="p">,</span>
  <span class="na">dateOfBirth</span><span class="p">:</span> <span class="s2">"1990-07-11"</span><span class="p">,</span>
  <span class="na">ssn</span><span class="p">:</span> <span class="s2">"202-99-1516"</span>
<span class="p">};</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">customerUrl</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span> <span class="c1">// =&gt; 'FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>
  <span class="p">});</span>
</code></pre></div></div><h3 id='if-you-try-more-than-once-or-customer-is-not-in-retry-state'>If you try more than once, or Customer is not in retry state:</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InvalidResourceState"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Resource cannot be modified."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='request-parameters---retry-verified-customer'>Request parameters - retry verified Customer</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s last name.</td>
</tr>
<tr>
<td>email</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s IP address</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>string</td>
<td>Either <code class="prettyprint">personal</code> or <code class="prettyprint">business</code>. If business, <a href="#additional-request-parameters-for-verified-customer-with-typebusiness">see above</a> for additional required information.</td>
</tr>
<tr>
<td>address1</td>
<td>yes</td>
<td>string</td>
<td>First line of the street address of the Customer&rsquo;s permanent residence</td>
</tr>
<tr>
<td>address2</td>
<td>no</td>
<td>string</td>
<td>Second line of the street address of the Customer&rsquo;s permanent residence</td>
</tr>
<tr>
<td>city</td>
<td>yes</td>
<td>string</td>
<td>City of Customer&rsquo;s permanent residence</td>
</tr>
<tr>
<td>state</td>
<td>yes</td>
<td>string</td>
<td>Two letter abbreviation of the state in which the customer resides, e.g. <code class="prettyprint">CA</code></td>
</tr>
<tr>
<td>postalCode</td>
<td>yes</td>
<td>string</td>
<td>Postal code of Customer&rsquo;s permanent residence</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s date of birth in <code class="prettyprint">YYYY-MM-DD</code> format</td>
</tr>
<tr>
<td>ssn</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s <strong>full</strong> Social Security Number</td>
</tr>
<tr>
<td>phone</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s 10 digit phone number.  No hyphens or other separators, e.g. <code class="prettyprint">3334447777</code></td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Duplicate customer or validation error.</td>
</tr>
<tr>
<td>403</td>
<td>Not authorized to create customers.</td>
</tr>
</tbody></table>
<h2 id='list-customers'>List Customers</h2>
<p>This section outlines how to retrieve your list of created Customers.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>How many results to return.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>How many results to skip.</td>
</tr>
<tr>
<td>search</td>
<td>no</td>
<td>string</td>
<td>Searches on <code class="prettyprint">firstName</code>, <code class="prettyprint">lastName</code>, and <code class="prettyprint">email</code> fields. (<code class="prettyprint">/customers?search=Doe</code>)</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET /customers
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "first": {
      "href": "https://api.dwolla.com/customers?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api.dwolla.com/customers?limit=25&amp;offset=0"
    },
    "self": {
      "href": "https://api.dwolla.com/customers?limit=25&amp;offset=0"
    }
  },
  "_embedded": {
    "customers": [
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F"
          }
        },
        "id": "FC451A7A-AE30-4404-AB95-E3553FCD733F",
        "firstName": "Jane",
        "lastName": "Doe",
        "email": "janedoe@nomail.com",
        "type": "unverified",
        "status": "unverified",
        "created": "2015-09-03T23:56:10.023Z"
      }
    ]
  },
  "total": 1
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">customers</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="ss">limit: </span><span class="mi">10</span>
<span class="n">customers</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">.</span><span class="nf">customers</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">firstName</span> <span class="c1"># =&gt; "Jane"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">customers</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">CustomersApi</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span><span class="ss">:limit</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">customers</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="ss">:customers</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="ss">:firstName</span><span class="p">]</span> <span class="c1"># =&gt; "Jane"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customers</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">_list</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nv">$customers</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="na">customers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">firstName</span><span class="p">;</span> <span class="c1"># =&gt; "Jane"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'customers'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'firstName'</span><span class="p">]</span> <span class="c"># =&gt; 'Jane'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">customers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">CustomersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">customers</span> <span class="o">=</span> <span class="n">customers_api</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">limit</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">customers</span><span class="o">.</span><span class="n">_embedded</span><span class="p">[</span><span class="s">'customers'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'firstName'</span><span class="p">]</span> <span class="c"># =&gt; 'Jane'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="p">{</span> <span class="na">limit</span><span class="p">:</span> <span class="mi">10</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">customers</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">firstName</span><span class="p">;</span> <span class="c1">// =&gt; 'Jane'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='get-a-customer-by-id'>Get a Customer by id</h2>
<p>This section shows you how to retrieve a Customer belonging to the authorized user. Each <code class="prettyprint">Customer</code> id is a part of its location resource. The developer can pass either an <code class="prettyprint">id</code> or the entire <code class="prettyprint">location</code> resource to make this request.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Not authorized to get a customer by id.</td>
</tr>
<tr>
<td>404</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-uat.dwolla.com/customers/07D59716-EF22-4FE6-98E8-F3190233DFB8
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F"
    }
  },
  "id": "FC451A7A-AE30-4404-AB95-E3553FCD733F",
  "firstName": "Jane",
  "lastName": "Doe",
  "email": "janedoe@nomail.com",
  "type": "unverified",
  "status": "unverified",
  "created": "2015-09-03T23:56:10.023Z"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/customers/07D59716-EF22-4FE6-98E8-F3190233DFB8'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">customer_url</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">firstName</span> <span class="c1"># =&gt; "Jane"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">customer</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">CustomersApi</span><span class="p">.</span><span class="nf">get_customer</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">firstName</span> <span class="c1"># =&gt; "Jane"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/customers/07D59716-EF22-4FE6-98E8-F3190233DFB8'</span><span class="p">;</span>

<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">getCustomer</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">);</span>
<span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">firstName</span><span class="p">;</span> <span class="c1"># =&gt; "Jane"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/customers/07D59716-EF22-4FE6-98E8-F3190233DFB8'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'firstName'</span><span class="p">]</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">customers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">CustomersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">customers_api</span><span class="o">.</span><span class="n">get_customer</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">firstName</span> <span class="c"># =&gt; 'Jane'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/customers/07D59716-EF22-4FE6-98E8-F3190233DFB8'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">customerUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">firstName</span><span class="p">;</span> <span class="c1">// =&gt; 'Jane'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='create-on-demand-transfer-authorization'>Create on-demand transfer authorization</h2>
<p>This section outlines how to create an on-demand bank transfer authorization for your Customer. On-demand authorization allows Customers to authorize Dwolla to transfer variable amounts from their bank account using ACH at a later point in time for products or services delivered. This on-demand authorization is supplied along with the Customer&rsquo;s bank details when creating a <a href="#new-customer-funding-source">new Customer funding source</a>.</p>

<p>When on-demand authorization is enabled for your application the Customer is presented with text on a “add bank account” screen in your user interface(UI) giving authorization to Dwolla for future variable payments. <strong>Note:</strong> On-demand payments come as part of our White Label product and requires additional approval before getting started. Please <a href="https://www.dwolla.com/contact?b=apidocs">contact Sales</a> for more information on enabling.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/on-demand-authorizations</code></p>
<h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>The supplied credentials are not authorized for this resource.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-uat.dwolla.com/on-demand-authorizations
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/on-demand-authorizations/30e7c028-0bdf-e511-80de-0aa34a9b2388"
    }
  },
  "bodyText": "I agree that future payments to Company ABC inc. will be processed by the Dwolla payment system from the selected account above. In order to cancel this authorization, I will change my payment settings within my Company ABC inc. account.",
  "buttonText": "Agree &amp; Continue"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">on_demand_authorization</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"on-demand-authorizations"</span>
<span class="n">on_demand_authorization</span><span class="p">.</span><span class="nf">buttonText</span> <span class="c1"># =&gt; "Agree &amp; Continue"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 * No example for this language yet.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">on_demand_authorization</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'on-demand-authorizations'</span><span class="p">)</span>
<span class="n">on_demand_authorization</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'buttonText'</span><span class="p">]</span> <span class="c"># =&gt; 'Agree &amp; Continue'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'on-demand-authorizations'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">buttonText</span><span class="p">;</span> <span class="c1">// =&gt; "Agree &amp; Continue"</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='create-a-customer-funding-source'>Create a Customer funding source</h2>
<p>There are two methods available for adding a bank or credit union account to a Customer. You can either collect the Customer&rsquo;s bank account information and pass it to Dwolla via the <a href="#new-customer-funding-source">new Customer funding source</a> endpoint, or you can send the Customer through the the <a href="#instant-account-verification-iav">Instant Account Verification</a> (IAV) flow which will add and verify a bank account within seconds.</p>

<p>Before a Dwolla account or white label Customer is eligible to transfer money from their bank or credit union account they need to verify ownership of the account, either via Instant Account Verification (IAV) or micro-deposits. For more information on bank account verification, reference this <a href="https://developers.dwolla.com/resources/funding-source-verification.html">funding source verification</a> resource article.</p>
<h3 id='new-customer-funding-source'>New Customer funding source</h3>
<p>Create a new Funding Source for a Customer.  Customers can have a maximum of 6 funding sources.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}/funding-sources</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>no</td>
<td>object</td>
<td>A <code>_links</code> JSON object containing an <code class="prettyprint">on-demand-authorization</code> link relation. See example raw request and response below.</td>
</tr>
<tr>
<td>routingNumber</td>
<td>yes</td>
<td>string</td>
<td>The bank account&rsquo;s routing number.</td>
</tr>
<tr>
<td>accountNumber</td>
<td>yes</td>
<td>string</td>
<td>The bank account number.</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>string</td>
<td>Type of bank account: <code class="prettyprint">checking</code> or <code class="prettyprint">savings</code>.</td>
</tr>
<tr>
<td>name</td>
<td>yes</td>
<td>string</td>
<td>Arbitrary nickname for the funding source. Must be 50 characters or less.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Can be: Duplicate funding source or validation error. Authorization already associated to a funding source.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Not authorized to create funding source.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /customers/99bfb139-eadd-4cdf-b346-7504f0c16c60/funding-sources
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
{
  "_links": {
    "on-demand-authorization": {
      "href": "https://api-uat.dwolla.com/on-demand-authorizations/30e7c028-0bdf-e511-80de-0aa34a9b2388"
    }
  },
  "routingNumber": "222222226",
  "accountNumber": "123456789",
  "type": "checking",
  "name": "Jane Doe’s Checking"
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/funding-sources/AB443D36-3757-44C1-A1B4-29727FB3111C
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSource</span> <span class="o">=</span> <span class="nv">$fundingApi</span><span class="o">-&gt;</span><span class="na">createCustomerFundingSource</span><span class="p">([</span>
  <span class="s2">"routingNumber"</span> <span class="o">=&gt;</span> <span class="s2">"222222226"</span><span class="p">,</span>
  <span class="s2">"accountNumber"</span> <span class="o">=&gt;</span> <span class="s2">"123456789"</span><span class="p">,</span>
  <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"checking"</span><span class="p">,</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Jane Doe’s Checking"</span>
<span class="p">],</span> <span class="s2">"https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C"</span><span class="p">);</span>
<span class="nv">$fundingSource</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">routingNumber: </span><span class="s1">'222222226'</span><span class="p">,</span>
  <span class="ss">accountNumber: </span><span class="s1">'123456789'</span><span class="p">,</span>
  <span class="ss">type: </span><span class="s1">'checking'</span><span class="p">,</span>
  <span class="ss">name: </span><span class="s1">'Jane Doe’s Checking'</span>
<span class="p">}</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">funding_source</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/funding-sources"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">funding_source</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">funding_source</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">FundingsourcesApi</span><span class="p">.</span><span class="nf">create_customer_funding_source</span><span class="p">(</span><span class="n">customer_url</span><span class="p">,</span> <span class="ss">:body</span> <span class="o">=&gt;</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">funding_source</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'routingNumber'</span><span class="p">:</span> <span class="s">'222222226'</span><span class="p">,</span>
  <span class="s">'accountNumber'</span><span class="p">:</span> <span class="s">'123456789'</span><span class="p">,</span>
  <span class="s">'type'</span><span class="p">:</span> <span class="s">'checking'</span><span class="p">,</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'Jane Doe’s Checking'</span>
<span class="p">}</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/funding-sources'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">funding_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">FundingsourcesApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">funding_source</span> <span class="o">=</span> <span class="n">funding_api</span><span class="o">.</span><span class="n">create_customer_funding_source</span><span class="p">(</span><span class="n">customer_url</span><span class="p">,</span> <span class="n">body</span> <span class="o">=</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">funding_source</span> <span class="c"># =&gt; 'https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'routingNumber'</span><span class="p">:</span> <span class="s1">'222222226'</span><span class="p">,</span>
  <span class="s1">'accountNumber'</span><span class="p">:</span> <span class="s1">'123456789'</span><span class="p">,</span>
  <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'checking'</span><span class="p">,</span>
  <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Jane Doe’s Checking'</span>
<span class="p">};</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/funding-sources`, requestBody</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">);</span> <span class="c1">// =&gt; 'https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>
  <span class="p">});</span>
</code></pre></div></div><h3 id='instant-account-verification-iav'>Instant account verification (IAV)</h3>
<p>IAV is a simple and secure process which requires both server-side and client-side interaction. Your server requests a <a href="#generate-an-iav-token">single-use token</a> which is used to represent the Customer that is adding or verifying their bank. The client-side implementation includes the dwolla.js library on the page that is used to render the IAV flow.</p>
<div class="code-snippet js-code-snippet language-javascriptnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-javascriptnohide" data-lang="javascriptnohide"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.dwolla.com/1/dwolla.js"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
  <span class="nx">dwolla</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="s1">'sandbox'</span><span class="p">);</span>
  <span class="nx">dwolla</span><span class="p">.</span><span class="nx">iav</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">'container'</span><span class="p">,</span> <span class="nx">token</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Error: '</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="o">+</span> <span class="s1">' -- Response: '</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">res</span><span class="p">))</span>
  <span class="p">})</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre></div></div><h3 id='generate-an-iav-token'>Generate an IAV token</h3>
<p>Get a single-use IAV token for a Customer.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}/iav-token</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /customers/99bfb139-eadd-4cdf-b346-7504f0c16c60/iav-token
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

HTTP/1.1 200 OK

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733/iav-token"
    }
  },
  "token": "4adF858jPeQ9RnojMHdqSD2KwsvmhO7Ti7cI5woOiBGCpH5krY"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/iav-token"</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">token</span> <span class="c1"># =&gt; "lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">customer</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">CustomersApi</span><span class="p">.</span><span class="nf">get_customer_iav_token</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">token</span> <span class="c1"># =&gt; "lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node</span>
<span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/iav-token`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">token</span><span class="p">;</span> <span class="c1">// =&gt; 'lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL'</span>
  <span class="p">});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">customer_url</span> <span class="o">=</span> <span class="s">'http://api.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6'</span>
<span class="n">customers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">CustomersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

<span class="n">token</span> <span class="o">=</span> <span class="n">customers_api</span><span class="o">.</span><span class="n">get_customer_iav_token</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="k">print</span> <span class="n">token</span><span class="p">[</span><span class="s">'token'</span><span class="p">]</span> <span class="c"># =&gt; 'lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fsToken</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">getCustomerIavToken</span><span class="p">(</span><span class="s2">"https://api-uat.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6"</span><span class="p">);</span>
<span class="nv">$fsToken</span><span class="o">-&gt;</span><span class="na">token</span><span class="p">;</span> <span class="c1"># =&gt; "lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><h3 id='initiate-iav-flow'>Initiate IAV flow</h3>
<p>Initiate instant account verification for a Customer.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>An <a href="#generate-an-iav-token">IAV token</a> is required to render the IAV flow.</p>
</li></ol><h4 id='dwolla-js'>dwolla.js</h4>
<p><code class="prettyprint">dwolla.js</code> is a JavaScript library that gives you the ability to render the IAV flow within a specified container. Call the function <code class="prettyprint">dwolla.iav.start()</code> and pass the following arguments: the container where you want IAV to render, the Customer&rsquo;s single-use <a href="#generate-an-iav-token">IAV token</a>, and a callback to handle the <code class="prettyprint">response</code> or <code class="prettyprint">error</code>. This will initiate an HTTP request asking Dwolla to load IAV in the specified container. Once the Customer successfully completes the IAV flow, Dwolla sends a response that includes either an error or a link to the newly created and verified funding source resource.</p>
<h4 id='usage-and-configuration'>Usage and configuration</h4><h5 id='include-dwolla-js'>Include dwolla.js</h5>
<p><strong>Development version:</strong>
<code class="prettyprint">&lt;script src=&quot;https://cdn.dwolla.com/1/dwolla.js&quot;&gt;&lt;/script&gt;</code></p>

<p><strong>Production (minified) version:</strong>
<code class="prettyprint">&lt;script src=&quot;https://cdn.dwolla.com/1/dwolla.min.js&quot;&gt;&lt;/script&gt;</code></p>
<h5 id='configure-dwolla-js'>Configure dwolla.js</h5><div class="code-snippet js-code-snippet language-javascriptnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-javascriptnohide" data-lang="javascriptnohide"><span class="c1">// Sandbox (UAT)</span>
<span class="nx">dwolla</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="s1">'sandbox'</span><span class="p">);</span>

<span class="c1">// Production</span>
<span class="nx">dwolla</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="s1">'prod'</span><span class="p">);</span>
</code></pre></div></div><h5 id='example'>Example</h5><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">&lt;head&gt;
&lt;script src="https://cdn.dwolla.com/1/dwolla.js"&gt;&lt;/script&gt;
&lt;!-- jQuery is used for example purposes --&gt;
&lt;script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;div id="controls"&gt;
  &lt;input type="button" id="start" value="Start"&gt;
&lt;/div&gt;
&lt;div id="iavContainer"&gt;&lt;/div&gt;

&lt;script type="text/javascript"&gt;
$('#start').click(function() {
  var iavToken = '4adF858jPeQ9RnojMHdqSD2KwsvmhO7Ti7cI5woOiBGCpH5krY';
  dwolla.config.dwollaUrl = 'https://uat.dwolla.com';
  dwolla.iav.start('iavContainer', iavToken, function(err, res) {
    console.log('Error: ' + JSON.stringify(err) + ' -- Response: ' + JSON.stringify(res));
  });
});
&lt;/script&gt;
</code></pre></div></div><h3 id='response'>Response:</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"funding-source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/funding-sources/3daf2382-e0e4-444a-863e-544239a261e3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>UnexpectedPage</td>
<td>IAV navigated to an unexpected page and was cancelled.</td>
</tr>
<tr>
<td>InvalidIavToken</td>
<td>Invalid IAV token.</td>
</tr>
<tr>
<td>UnsupportedBank</td>
<td>The customer&rsquo;s bank is not supported by the IAV flow.</td>
</tr>
<tr>
<td>RateLimitReached</td>
<td>The customer exceeded the max # of IAV attempts.</td>
</tr>
</tbody></table>
<h2 id='list-a-customer39s-funding-sources'>List a Customer&rsquo;s funding sources</h2>
<p>Retrieve a list of funding sources that belong to a Customer. By default, all funding sources are returned unless the <code class="prettyprint">removed</code> querystring parameter is set to <code class="prettyprint">false</code> in the request.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}/funding-sources</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s unique identifier.</td>
</tr>
<tr>
<td>removed</td>
<td>no</td>
<td>string</td>
<td>Filter removed funding sources. Defaults to <code class="prettyprint">true</code>. Set to <code class="prettyprint">false</code> to filter out removed funding sources from list (i.e. - /customers/{id}/funding-sources?removed=false).</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Not authorized to list funding sources.</td>
</tr>
<tr>
<td>404</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733/funding-sources
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733/funding-sources"
    },
    "customer": {
      "href": "https://api.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733"
    }
  },
  "_embedded": {
    "funding-sources": [
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/funding-sources/ab9cd5de-9435-47af-96fb-8d2fa5db51e8"
          },
          "customer": {
            "href": "https://api.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733"
          },
          "with-available-balance": {
            "href": "https://api.dwolla.com/funding-sources/ab9cd5de-9435-47af-96fb-8d2fa5db51e8"
          }
        },
        "id": "ab9cd5de-9435-47af-96fb-8d2fa5db51e8",
        "status": "verified",
        "type": "balance",
        "name": "Balance",
        "created": "2015-10-02T21:00:28.153Z"
      },
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/funding-sources/98c209d3-02d6-4bee-bc0f-61e18acf0e33"
          },
          "customer": {
            "href": "https://api.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733"
          }
        },
        "id": "98c209d3-02d6-4bee-bc0f-61e18acf0e33",
        "status": "verified",
        "type": "bank",
        "name": "Jane Doe’s Checking",
        "created": "2015-10-02T22:03:45.537Z"
      }
    ]
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">funding_sources</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer</span><span class="si">}</span><span class="s2">/funding-sources"</span>
<span class="n">funding_sources</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">name</span> <span class="c1"># =&gt; "Jane Doe’s Checking"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">funding_sources</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">FundingsourcesApi</span><span class="p">.</span><span class="nf">get_customer_funding_sources</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="n">funding_sources</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="ss">:'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="c1"># =&gt; "Jane Doe’s Checking"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSources</span> <span class="o">=</span> <span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">getCustomerFundingSources</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">);</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'funding-sources'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span> <span class="c1"># =&gt; "Jane Doe’s Checking"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">funding_sources</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/funding-sources'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">funding_sources</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'name'</span><span class="p">]</span> <span class="c"># =&gt; 'Jane Doe’s Checking'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">fs_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">FundingsourcesApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">funding_sources</span> <span class="o">=</span> <span class="n">fs_api</span><span class="o">.</span><span class="n">get_customer_funding_sources</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="n">funding_sources</span><span class="o">.</span><span class="n">_embedded</span><span class="p">[</span><span class="s">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'name'</span><span class="p">]</span> <span class="c"># =&gt; 'Jane Doe’s Checking'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/funding-sources`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">name</span><span class="p">;</span> <span class="c1">// =&gt; 'Jane Doe’s Checking'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='list-a-customer39s-transfers'>List a Customer&rsquo;s transfers</h2>
<p>This section details how to retrieve a Customer&rsquo;s list of transfers. Transaction search is supported by passing in optional querystring parameters such as: <code class="prettyprint">search</code> which represents a term to search on, <code class="prettyprint">startAmount</code>, <code class="prettyprint">endAmount</code>, <code class="prettyprint">startDate</code>, and <code class="prettyprint">endDate</code>.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}/transfers</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier to get transfers for.</td>
</tr>
<tr>
<td>search</td>
<td>no</td>
<td>string</td>
<td>A string to be matched with <code class="prettyprint">firstName</code>, <code class="prettyprint">lastName</code>, <code class="prettyprint">email</code>, <code class="prettyprint">businessName</code>, Customer Id, and Account Id. (<code class="prettyprint">/transfers?search=Doe</code>)</td>
</tr>
<tr>
<td>startAmount</td>
<td>no</td>
<td>string</td>
<td>Only include transactions with an amount equal to or greater than <code class="prettyprint">startAmount</code>. Can optionally be used with <code class="prettyprint">endAmount</code> to specify an amount range.</td>
</tr>
<tr>
<td>endAmount</td>
<td>no</td>
<td>string</td>
<td>Only include transactions with an amount equal to or less than <code class="prettyprint">endAmount</code>. Can optionally be used with <code class="prettyprint">startAmount</code> to specify an amount range.</td>
</tr>
<tr>
<td>startDate</td>
<td>no</td>
<td>string</td>
<td>Only include transactions created after this date. ISO-8601 format: <code class="prettyprint">YYYY-MM-DD</code>. Can optionally be used with <code class="prettyprint">endDate</code> to specify a date range.</td>
</tr>
<tr>
<td>endDate</td>
<td>no</td>
<td>string</td>
<td>Only include transactions created before than this date. ISO-8601 format: <code class="prettyprint">YYYY-MM-DD</code>. Can optionally be used with <code class="prettyprint">startDate</code> to specify a date range.</td>
</tr>
<tr>
<td>status</td>
<td>no</td>
<td>string</td>
<td>Filter results on transaction status. Possible values: <code class="prettyprint">pending</code>, <code class="prettyprint">processed</code>, <code class="prettyprint">failed</code>, or <code class="prettyprint">cancelled</code>.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>Number of search results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>Number of search results to skip. Used for pagination.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Not authorized to list transfers.</td>
</tr>
<tr>
<td>404</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET http://api.dwolla.com/customers/01B47CB2-52AC-42A7-926C-6F1F50B1F271/transfers
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "first": {
      "href": "https://api.dwolla.com/customers/01b47cb2-52ac-42a7-926c-6f1f50b1f271/transfers?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api.dwolla.com/customers/01b47cb2-52ac-42a7-926c-6f1f50b1f271/transfers?limit=25&amp;offset=0"
    },
    "self": {
      "href": "http://api.dwolla.com/customers/01B47CB2-52AC-42A7-926C-6F1F50B1F271/transfers"
    }
  },
  "_embedded": {
    "transfers": [
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/transfers/4C8AD8B8-3D69-E511-80DB-0AA34A9B2388"
          },
          "source": {
            "href": "https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
          },
          "destination": {
            "href": "https://api.dwolla.com/customers/01B47CB2-52AC-42A7-926C-6F1F50B1F271"
          }
        },
        "id": "4C8AD8B8-3D69-E511-80DB-0AA34A9B2388",
        "status": "pending",
        "amount": {
          "value": "225.00",
          "currency": "USD"
        },
        "created": "2015-10-02T19:42:32.950Z",
        "metadata": {
          "foo": "bar",
          "baz": "foo"
        }
      },
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/transfers/9DC99076-3D69-E511-80DB-0AA34A9B2388"
          },
          "source": {
            "href": "https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
          },
          "destination": {
            "href": "https://api.dwolla.com/customers/01B47CB2-52AC-42A7-926C-6F1F50B1F271"
          }
        },
        "id": "9DC99076-3D69-E511-80DB-0AA34A9B2388",
        "status": "pending",
        "amount": {
          "value": "225.00",
          "currency": "USD"
        },
        "created": "2015-10-02T19:40:41.437Z",
        "metadata": {
          "foo": "bar",
          "baz": "foo"
        }
      }
    ]
  },
  "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'http://api.dwolla.com/customers/01B47CB2-52AC-42A7-926C-6F1F50B1F271'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">transfers</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/transfers"</span>
<span class="n">transfers</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">.</span><span class="nf">transfers</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">status</span> <span class="c1"># =&gt; "pending"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">transfers</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">TransfersApi</span><span class="p">.</span><span class="nf">get_customer_transfers</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="n">transfers</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="ss">:transfers</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="ss">:status</span><span class="p">]</span> <span class="c1"># =&gt; "pending"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'http://api.dwolla.com/customers/01B47CB2-52AC-42A7-926C-6F1F50B1F271'</span><span class="p">;</span>

<span class="nv">$TransfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transfers</span> <span class="o">=</span> <span class="nv">$TransfersApi</span><span class="o">-&gt;</span><span class="na">getCustomerTransfers</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">);</span>
<span class="nv">$transfers</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="na">transfers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "pending"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">customer_url</span> <span class="o">=</span> <span class="s">'http://api.dwolla.com/customers/01B47CB2-52AC-42A7-926C-6F1F50B1F271'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">transfers</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/transfers'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">transfers</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'transfers'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'pending'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">transfers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">TransfersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">transfers</span> <span class="o">=</span> <span class="n">transfers_api</span><span class="o">.</span><span class="n">get_customer_transfers</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="n">transfers</span><span class="o">.</span><span class="n">_embedded</span><span class="p">[</span><span class="s">'transfers'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'pending'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'http://api.dwolla.com/customers/01B47CB2-52AC-42A7-926C-6F1F50B1F271'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/transfers`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">transfers</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">status</span><span class="p">;</span> <span class="c1">// =&gt; "pending"</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='list-a-customer39s-mass-payments'>List a Customer&rsquo;s mass payments</h2>
<p>This section covers how to retrieve a <a href="#customers">verified Customer&rsquo;s</a> list of previously created mass payments. Mass payments are returned ordered by date created, with most recent mass payments appearing first.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Transactions</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}/mass-payments</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier to get mass payments for.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>How many results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>How many results to skip.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>NotAuthorized</td>
<td>Not authorized to list mass payments.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-uat.dwolla.com/customers/39e21228-5958-4c4f-96fe-48a4bf11332d/mass-payments
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

....

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/customers/39e21228-5958-4c4f-96fe-48a4bf11332d/mass-payments"
    },
    "first": {
      "href": "https://api-uat.dwolla.com/customers/39e21228-5958-4c4f-96fe-48a4bf11332d/mass-payments?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api-uat.dwolla.com/customers/39e21228-5958-4c4f-96fe-48a4bf11332d/mass-payments?limit=25&amp;offset=0"
    }
  },
  "_embedded": {
    "mass-payments": [
      {
        "_links": {
          "self": {
            "href": "https://api-uat.dwolla.com/mass-payments/89ca72d2-63bf-4a8f-92ef-a5d00140aefa"
          },
          "source": {
            "href": "https://api-uat.dwolla.com/funding-sources/e1c972d4-d8d9-4c30-861a-9081dcbaf4ab"
          },
          "items": {
            "href": "https://api-uat.dwolla.com/mass-payments/89ca72d2-63bf-4a8f-92ef-a5d00140aefa/items"
          }
        },
        "id": "89ca72d2-63bf-4a8f-92ef-a5d00140aefa",
        "status": "complete",
        "created": "2016-03-21T19:27:34.000Z",
        "metadata": {
          "masspay1": "masspay1"
        }
      }
    ]
  },
  "total": 1
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/customers/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">mass_payments</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/mass-payments"</span><span class="p">,</span> <span class="ss">limit: </span><span class="mi">10</span>
<span class="n">mass_payments</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">status</span> <span class="c1"># =&gt; "complete"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet. Coming soon.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/customers/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">mass_payments</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/mass-payments'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">mass_payments</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'complete'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/customers/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/mass-payments`, { limit: 10 }</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">status</span><span class="p">;</span> <span class="err">#</span> <span class="o">=&gt;</span> <span class="s2">"complete"</span>
  <span class="p">});</span>
</code></pre></div></div>
            <h1 id='documents'>Documents</h1>
<p>Customers of type <code class="prettyprint">personal</code> or <code class="prettyprint">business</code> and of status <code class="prettyprint">document</code> require photos of identifying documents to be uploaded for manual review in order to be verified. Currently, SDK support only exists for retrieving data with regards to a <code class="prettyprint">Document</code> resource. To create a document, you must use an external HTTP library.</p>

<p>For more information on handling the Customer verifiation status of <code class="prettyprint">document</code>, reference our <a href="https://developers.dwolla.com/resources/customer-verification/handling-verification-statuses.html">Customer verification</a> resource article.</p>
<h3 id='document-resource'>Document resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Document unique identifier</td>
</tr>
<tr>
<td>type</td>
<td>Either <code class="prettyprint">passport</code>, <code class="prettyprint">license</code>, <code class="prettyprint">idCard</code>, or <code class="prettyprint">other</code>.</td>
</tr>
<tr>
<td>status</td>
<td>Either <code class="prettyprint">pending</code> or <code class="prettyprint">reviewed</code>.  When a document has been manually reviewed by Dwolla, its status will be <code class="prettyprint">reviewed</code>.  A reviewed document does not necessarily indicate that the customer has completed the identity verification process.</td>
</tr>
<tr>
<td>created</td>
<td>ISO 8601 Timestamp of document upload time and date.</td>
</tr>
<tr>
<td>failureReason</td>
<td>The reason an uploaded document was rejected. Can be: <code class="prettyprint">ScanNotReadable</code>, <code class="prettyprint">ScanNotUploaded</code>, <code class="prettyprint">ScanIdTypeNotSupported</code>, <code class="prettyprint">ScanNameMismatch</code>, <code class="prettyprint">ScanFailedOther</code>, or <code class="prettyprint">FailedOther</code>.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passport"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-29T21:42:16.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='create-a-document'>Create a document</h2>
<p>Create a document for a Customer pending verification by uploading a photo of the document.  This requires a multipart form-data POST request.  The file must be either a <code class="prettyprint">.jpg</code>, <code class="prettyprint">.jpeg</code>, <code class="prettyprint">.png</code>, <code class="prettyprint">.tif</code>, or <code class="prettyprint">.pdf</code> up to 10MB in size.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<table><thead>
<tr>
<th>Form Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>documentType</td>
<td>One of <code class="prettyprint">passport</code>, <code class="prettyprint">license</code>, <code class="prettyprint">idCard</code>, or <code class="prettyprint">other</code></td>
</tr>
<tr>
<td>file</td>
<td>File contents.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">curl -X POST
\ -H "Authorization: Bearer tJlyMNW6e3QVbzHjeJ9JvAPsRglFjwnba4NdfCzsYJm7XbckcR"
\ -H "Accept: application/vnd.dwolla.v1.hal+json"
\ -H "Cache-Control: no-cache"
\ -H "Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"
\ -F "documentType=passport"
\ -F "file=@foo.png"
\ 'https://api.dwolla.com/customers/1DE32EC7-FF0B-4C0C-9F09-19629E6788CE/documents'

...

HTTP/1.1 201 Created
Location: https://api.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/1DE32EC7-FF0B-4C0C-9F09-19629E6788CE'</span>

<span class="n">file</span> <span class="o">=</span> <span class="no">Faraday</span><span class="o">::</span><span class="no">UploadIO</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'mclovin.jpg'</span><span class="p">,</span> <span class="s1">'image/jpeg'</span><span class="p">)</span>
<span class="n">document</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/documents"</span><span class="p">,</span> <span class="ss">file: </span><span class="n">file</span><span class="p">,</span> <span class="ss">documentType: </span><span class="s1">'license'</span>
<span class="n">document</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api.dwolla.com/documents/fb919e0b-ffbe-4268-b1e2-947b44328a16"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/customers/1DE32EC7-FF0B-4C0C-9F09-19629E6788CE'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">document</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/documents'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">,</span> <span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'mclovin.jpg'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">),</span> <span class="n">documentType</span> <span class="o">=</span> <span class="s">'license'</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api.dwolla.com/documents/fb919e0b-ffbe-4268-b1e2-947b44328a16'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 * No example for this language yet.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/1DE32EC7-FF0B-4C0C-9F09-19629E6788CE'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">();</span>
<span class="nx">body</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'file'</span><span class="p">,</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s1">'mclovin.jpg'</span><span class="p">),</span> <span class="p">{</span>
  <span class="na">filename</span><span class="p">:</span> <span class="s1">'mclovin.jpg'</span><span class="p">,</span>
  <span class="na">contentType</span><span class="p">:</span> <span class="s1">'image/jpeg'</span><span class="p">,</span>
  <span class="na">knownLength</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">statSync</span><span class="p">(</span><span class="s1">'mclovin.jpg'</span><span class="p">).</span><span class="nx">size</span>
<span class="p">});</span>
<span class="nx">body</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'documentType'</span><span class="p">,</span> <span class="s1">'license'</span><span class="p">);</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/documents`, requestBody</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">);</span> <span class="c1">// =&gt; "https://api.dwolla.com/documents/fb919e0b-ffbe-4268-b1e2-947b44328a16"</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='list-documents'>List documents</h2>
<p>This section contains information on how to retrieve a list of documents that belong to a Customer.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}/documents</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2/documents
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2/documents"
    }
  },
  "_embedded": {
    "documents": [
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"
          }
        },
        "id": "56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc",
        "status": "pending",
        "type": "passport",
        "created": "2015-09-29T21:42:16.000Z"
      },
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0"
          }
        },
        "id": "11fe0bab-39bd-42ee-bb39-275afcc050d0",
        "status": "pending",
        "type": "passport",
        "created": "2015-09-29T21:45:37.000Z"
      }
    ]
  },
  "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/documents"</span>
<span class="n">documents</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">.</span><span class="nf">documents</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">id</span> <span class="c1"># =&gt; "56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">documents</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">CustomersApi</span><span class="p">.</span><span class="nf">get_customer_documents</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="n">documents</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="ss">:documents</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="ss">:id</span><span class="p">]</span> <span class="c1"># =&gt; "56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span><span class="p">;</span>

<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">getCustomerDocuments</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">);</span>
<span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; 2
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/documents'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">documents</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 2</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">customers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">CustomersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="n">customers_api</span><span class="o">.</span><span class="n">get_customer_documents</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="n">documents</span><span class="o">.</span><span class="n">total</span> <span class="c"># =&gt; 2</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span><span class="p">;</span>

<span class="nx">token</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/documents`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">documents</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">id</span><span class="p">;</span> <span class="c1">// =&gt; '56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='retrieve-a-document'>Retrieve a document</h2>
<p>This section contains information on how to retrieve a document by its id.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>ManageCustomers</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/documents/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Document unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"
    }
  },
  "id": "56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc",
  "status": "pending",
  "type": "passport",
  "created": "2015-09-29T21:42:16.000Z"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">document_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">document</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">document_url</span>
<span class="n">document</span><span class="p">.</span><span class="nf">type</span> <span class="c1"># =&gt; "passport"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">document</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">DocumentsApi</span><span class="p">.</span><span class="nf">get_document</span><span class="p">(</span><span class="n">document_url</span><span class="p">)</span>
<span class="n">document</span><span class="p">.</span><span class="nf">type</span> <span class="c1"># =&gt; "passport"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$documentUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span><span class="p">;</span>

<span class="nv">$documentsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\DocumentsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$document</span> <span class="o">=</span> <span class="nv">$documentsApi</span><span class="o">-&gt;</span><span class="na">getDocument</span><span class="p">(</span><span class="nv">$documentUrl</span><span class="p">);</span>
<span class="nv">$document</span><span class="o">-&gt;</span><span class="na">type</span><span class="p">;</span> <span class="c1"># =&gt; "passport"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">document_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">document_url</span><span class="p">)</span>
<span class="n">documents</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'type'</span><span class="p">]</span> <span class="c"># =&gt; 'passport'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">documents_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">DocumentsApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">document</span> <span class="o">=</span> <span class="n">documents_api</span><span class="o">.</span><span class="n">get_customer</span><span class="p">(</span><span class="n">document_url</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="nb">type</span> <span class="c"># =&gt; "passport"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">documentUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">document_url</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">type</span><span class="p">;</span> <span class="c1">// =&gt; "passport"</span>
  <span class="p">});</span>
</code></pre></div></div>
            <h1 id='funding-sources'>Funding sources</h1>
<p>Add and retrieve ACH bank account information via funding sources, which are available to the <code class="prettyprint">Customers</code> and <code class="prettyprint">Accounts</code> resources.  Customers can have a maximum of 6 funding sources.</p>
<h3 id='funding-source-resource'>Funding source resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The funding source unique identifier</td>
</tr>
<tr>
<td>status</td>
<td>Is the funding source verified?</td>
</tr>
<tr>
<td>type</td>
<td>Type of funding source</td>
</tr>
<tr>
<td>name</td>
<td>Customer’s arbitrary nickname for the funding source</td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp</td>
</tr>
<tr>
<td>removed</td>
<td>A value of <code class="prettyprint">true</code> if the funding source has been <a href="#remove-a-funding-source">removed</a> or <code class="prettyprint">false</code> if the funding source is not removed.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
    </span><span class="nt">"routingNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"222222226"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checking"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Bank"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='create-a-funding-source'>Create a funding source</h2>
<p>Create a new funding source for an <a href="#accounts">Account</a>.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Funding</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/funding-sources</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountNumber</td>
<td>yes</td>
<td>string</td>
<td>The bank account number.</td>
</tr>
<tr>
<td>routingNumber</td>
<td>yes</td>
<td>string</td>
<td>The bank account&rsquo;s routing number.</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>string</td>
<td>Type of bank account: <code class="prettyprint">checking</code> or <code class="prettyprint">savings</code>.</td>
</tr>
<tr>
<td>name</td>
<td>yes</td>
<td>string</td>
<td>Arbitrary nickname for the funding source.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Duplicate funding source or validation error.</td>
</tr>
<tr>
<td>403</td>
<td>Not authorized to create funding source.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">POST /funding-sources
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
{
    "routingNumber": "222222226",
    "accountNumber": "123456789",
    "type": "checking",
    "name": "My Bank"
}

...

HTTP/1.1 201 Created
Location: https://api-uat.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3
</code></pre></div></div><h2 id='get-a-funding-source-by-id'>Get a funding source by id</h2>
<p>This section covers how to retrieve a funding source by id.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Funding</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/funding-sources/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>id of funding source to retrieve.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Funding source not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c"
    },
    "customer": {
      "href": "https://api.dwolla.com/customers/36e9dcb2-889b-4873-8e52-0c9404ea002a"
    },
    "initiate-micro-deposits": {
      "href": "https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c/micro-deposits"
    }
  },
  "id": "692486f8-29f6-4516-a6a5-c69fd2ce854c",
  "status": "unverified",
  "type": "bank",
  "name": "Test checking account",
  "created": "2015-10-23T20:37:57.137Z"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">funding_source</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">funding_source_url</span>
<span class="n">funding_source</span><span class="p">.</span><span class="nf">name</span> <span class="c1"># =&gt; "Test checking account"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">funding_source</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">FundingsourcesApi</span><span class="p">.</span><span class="nf">id</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">)</span>
<span class="n">funding_source</span><span class="p">.</span><span class="nf">name</span> <span class="c1"># =&gt; "Test checking account"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSource</span> <span class="o">=</span> <span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">(</span><span class="nv">$fundingSourceUrl</span><span class="p">);</span>
<span class="nv">$fundingSource</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span> <span class="c1"># =&gt; "Test checking account"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">funding_source</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">)</span>
<span class="n">funding_source</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span> <span class="c"># =&gt; 'Test checking account'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">fs_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">FundingsourcesApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">funding_source</span> <span class="o">=</span> <span class="n">fs_api</span><span class="o">.</span><span class="nb">id</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">)</span>
<span class="n">funding_source</span><span class="o">.</span><span class="n">name</span> <span class="c"># =&gt; 'Test checking account'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">fundingSourceUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span> <span class="c1">// =&gt; "Test checking account"</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='update-a-funding-source'>Update a funding source</h2>
<p>This section covers how to update a <code class="prettyprint">bank</code> funding source name.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Funding</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/funding-sources/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>id of funding source to update.</td>
</tr>
<tr>
<td>name</td>
<td>yes</td>
<td>string</td>
<td>Arbitrary nickname for the funding source. Must be 50 characters or less.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Funding source not found.</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Only funding sources of type=&ldquo;bank&rdquo; can be updated.</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Invalid bank name.</td>
</tr>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>A removed bank cannot be updated.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "name": "Test Checking - 1234"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Test Checking - 1234"</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">funding_source</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">funding_source_url</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">funding_source</span><span class="p">.</span><span class="nf">name</span> <span class="c1"># =&gt; "Test Checking - 1234"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet. Coming soon.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"Test Checking - 1234"</span>
<span class="p">}</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">funding_source</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'funding-sources'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">funding_source</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span> <span class="c"># =&gt; 'Test Checking - 1234'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="s2">"Test Checking - 1234"</span>
<span class="p">};</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">fundingSourceUrl</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span> <span class="c1">// =&gt; "Test Checking - 1234"</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='initiate-or-verify-micro-deposits'>Initiate or verify micro-deposits</h2>
<p>This section covers how to initiate and verify micro-deposits for bank verification. Reference the <a href="https://developers.dwolla.com/resources/funding-source-verification.html">funding source verification</a> resource article for more information on the micro-deposit method of bank account verification.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Funding</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/funding-sources/{id}/micro-deposits</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount1</td>
<td>yes</td>
<td>string</td>
<td>An amount JSON object of first micro-deposit. Contains <code class="prettyprint">value</code> and <code class="prettyprint">currency</code>.</td>
</tr>
<tr>
<td>amount2</td>
<td>yes</td>
<td>string</td>
<td>An amount JSON object of second micro-deposit. Contains <code class="prettyprint">value</code> and <code class="prettyprint">currency</code>.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
<td>Micro deposits verified</td>
</tr>
<tr>
<td>201</td>
<td>Created</td>
<td>Micro deposits initiated</td>
</tr>
<tr>
<td>202</td>
<td>TryAgainLater</td>
<td>&ldquo;Invalid wait time.&rdquo;</td>
</tr>
<tr>
<td>400</td>
<td>NotFound</td>
<td>Funding source not found.</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>InvalidAmount</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>&ldquo;Wrong amount(s).&rdquo;</td>
</tr>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>&ldquo;Too many attempts.&rdquo;</td>
</tr>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>&ldquo;Bank already verified.&rdquo;</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Micro deposits not initiated</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Funding source not found</td>
</tr>
<tr>
<td>500</td>
<td>Unknown</td>
<td>&ldquo;Verify microdeposits returned an unknown error.&rdquo;</td>
</tr>
</tbody></table>
<h4 id='request-and-response-initiate'>Request and response (Initiate)</h4><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909/micro-deposits
Authorization: Bearer 8tJjM7iTjujLthkbVPMUcHLqMNw4uv5kG712g9j1RRBHplGpwo
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Cache-Control: no-cache

HTTP/1.1 201 Created
Location: https://api.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909/micro-deposits
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">funding_source_url</span><span class="si">}</span><span class="s2">/micro-deposits"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">FundingsourcesApi</span><span class="p">.</span><span class="nf">micro_deposits</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class="p">;</span>

<span class="nx">accountToken</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`#</span><span class="p">{</span><span class="nx">fundingSourceUrl</span><span class="p">}</span><span class="sr">/micro-deposits`</span><span class="se">)</span><span class="err">;
</span></code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">account_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/micro-deposits'</span> <span class="o">%</span> <span class="n">funding_source_url</span><span class="p">)</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">fs_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">FundingsourcesApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">fs_api</span><span class="o">.</span><span class="n">micro_deposits</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">micro_deposits</span><span class="p">(</span><span class="nv">$fundingSourceUrl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h4 id='request-and-response-verify'>Request and response (Verify)</h4><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909/micro-deposits
Authorization: Bearer 8tJjM7iTjujLthkbVPMUcHLqMNw4uv5kG712g9j1RRBHplGpwo
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json

{
    "amount1": {
        "value": "0.03",
        "currency": "USD"
    },
    "amount2": {
        "value": "0.09",
        "currency": "USD"
    }
}

HTTP 200 OK
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:amount1</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"0.03"</span><span class="p">,</span>
    <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span>
  <span class="p">},</span>
  <span class="ss">:amount2</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"0.09"</span><span class="p">,</span>
    <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">funding_source_url</span><span class="si">}</span><span class="s2">/micro-deposits"</span><span class="p">,</span> <span class="n">request_body</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">FundingsourcesApi</span><span class="p">.</span><span class="nf">micro_deposits</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">,</span> <span class="ss">body: </span><span class="n">request_body</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">amount1</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">value</span><span class="p">:</span> <span class="s1">'0.03'</span><span class="p">,</span>
    <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span>
  <span class="p">},</span>
  <span class="na">amount2</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">value</span><span class="p">:</span> <span class="s1">'0.09'</span><span class="p">,</span>
    <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">accountToken</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">fundingSourceUrl</span><span class="p">}</span><span class="sr">/micro-deposits`, requestBody</span><span class="se">)</span><span class="err">;
</span></code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"amount1"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"value"</span><span class="p">:</span> <span class="s">"0.03"</span><span class="p">,</span>
        <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span>
    <span class="p">},</span>
    <span class="s">"amount2"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"value"</span><span class="p">:</span> <span class="s">"0.09"</span><span class="p">,</span>
        <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">account_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/micro-deposits'</span> <span class="o">%</span> <span class="n">funding_source_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">fs_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">FundingsourcesApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">fs_api</span><span class="o">.</span><span class="n">micro_deposits</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">,</span> <span class="n">body</span> <span class="o">=</span> <span class="n">request_body</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">micro_deposits</span><span class="p">(</span><span class="nv">$fundingSourceUrl</span><span class="p">,</span> <span class="p">[</span>
  <span class="s1">'amount1'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'0.03'</span><span class="p">,</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span>
  <span class="p">],</span>
  <span class="s1">'amount2'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'0.09'</span><span class="p">,</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span>
  <span class="p">]</span>
<span class="p">]);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='retrieve-micro-deposits-status'>Retrieve micro-deposits status</h2>
<p>This section shows how to retrieve the status of micro-deposits and check if pending verification for completed micro-deposits exists.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Funding</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/funding-sources/{id}/micro-deposits</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>no</td>
<td>string</td>
<td>id of funding source to check status of validation deposits.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Ok</td>
<td>Pending micro-deposits exist.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">GET https://api.dwolla.com/funding-sources/ab9cd5de-9435-47af-96fb-8d2fa5db51e8/micro-deposits
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/funding-sources/ab9cd5de-9435-47af-96fb-8d2fa5db51e8/micro-deposits",
      "type": "micro-deposits"
    }
  },
  "status": "pending"
  "created": "2016-07-25T19:46:35.000Z"
}
</code></pre></div></div><h2 id='remove-a-funding-source'>Remove a funding source</h2>
<p>Remove a funding source by id. A removed funding source is soft deleted and can still be accessed when retrieved.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Funding</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/funding-sources/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>id of funding source to delete.</td>
<td></td>
</tr>
<tr>
<td>removed</td>
<td>yes</td>
<td>Specify a value of <code class="prettyprint">true</code> to remove the associated funding source.</td>
<td></td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Funding source not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
{
    "removed": true
}

...

HTTP 200 OK
{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c",
      "type": "funding-source"
    }
  },
  "id": "692486f8-29f6-4516-a6a5-c69fd2ce854c",
  "status": "verified",
  "type": "bank",
  "name": "Test bank account",
  "created": "2016-06-08T21:37:30.000Z",
  "removed": true
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>

<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:removed</span> <span class="o">=&gt;</span> <span class="kp">true</span>
<span class="p">}</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">funding_source_url</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">request_body</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">FundingsourcesApi</span><span class="p">.</span><span class="nf">soft_delete</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">,</span> <span class="ss">:body</span> <span class="o">=&gt;</span> <span class="n">request_body</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">softDelete</span><span class="p">([</span><span class="s1">'removed'</span> <span class="o">=&gt;</span> <span class="kc">true</span> <span class="p">],</span> <span class="nv">$fundingSourceUrl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">account_token</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">)</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">fs_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">FundingsourcesApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">fs_api</span><span class="o">.</span><span class="n">soft_delete</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">,</span> <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'removed'</span><span class="p">:</span> <span class="n">true</span>
<span class="p">})</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">removed</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">accountToken</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">fundingSourceUrl</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">);</span>
</code></pre></div></div>
            <h1 id='transfers'>Transfers</h1>
<p>A transfer represents money being transferred from a <code class="prettyprint">source</code> to a <code class="prettyprint">destination</code>. Transfers are available for the <code class="prettyprint">Customer</code> and <code class="prettyprint">Account</code> resources.</p>
<h3 id='transfer-resource'>Transfer resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Transfer unique identifier</td>
</tr>
<tr>
<td>status</td>
<td>Either <code class="prettyprint">processed</code>, <code class="prettyprint">pending</code>, <code class="prettyprint">cancelled</code>, <code class="prettyprint">failed</code>, or <code class="prettyprint">reclaimed</code></td>
</tr>
<tr>
<td>amount</td>
<td>An amount JSON object. See below</td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp</td>
</tr>
<tr>
<td>metadata</td>
<td>A metadata JSON object</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-02T19:48:40.485Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='amount-json-object'>Amount JSON object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>Amount of money</td>
</tr>
<tr>
<td>currency</td>
<td>String, <code class="prettyprint">USD</code></td>
</tr>
</tbody></table>
<h2 id='initiate-transfer'>Initiate transfer</h2>
<p>This section covers how to initiate a transfer for either an <a href="#accounts">Account</a> or <a href="#customers">Customer</a> resource.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Send</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/transfers</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>yes</td>
<td>object</td>
<td>A _links JSON object describing the desired <code class="prettyprint">source</code> and <code class="prettyprint">destination</code> of a transfer. <a href="#source-and-destination-types">See below</a> for possible values for <code class="prettyprint">source</code> and <code class="prettyprint">destination</code>.</td>
</tr>
<tr>
<td>amount</td>
<td>yes</td>
<td>object</td>
<td>An amount JSON object. <a href="#amount-json-object">See above</a>.</td>
</tr>
<tr>
<td>metadata</td>
<td>no</td>
<td>object</td>
<td>A metadata JSON object with a maximum of 10 key-value pairs (each key and value must be less than 255 characters).</td>
</tr>
<tr>
<td>fees</td>
<td>no</td>
<td>array</td>
<td>an array of fee JSON objects that contain unique fee transfers. <a href="#a-fee-json-object">See below</a>.</td>
</tr>
</tbody></table>
<h3 id='source-and-destination-types'>Source and destination types</h3>
<table><thead>
<tr>
<th>Source Type</th>
<th>URI</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Funding source</td>
<td><code class="prettyprint">https://api.dwolla.com/funding-sources/{id}</code></td>
<td>A bank or balance funding source.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Destination Type</th>
<th>URI</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Account</td>
<td><code class="prettyprint">https://api.dwolla.com/accounts/{id}</code></td>
<td>Destination Account of a transfer.</td>
</tr>
<tr>
<td>Customer</td>
<td><code class="prettyprint">https://api.dwolla.com/customers/{id}</code></td>
<td>Destination Customer of a transfer.</td>
</tr>
<tr>
<td>Email</td>
<td><code class="prettyprint">mailto:johndoe@email.com</code></td>
<td>Email address of existing Dwolla Account or recipient (recipient will create a Dwolla Account to claim funds)</td>
</tr>
<tr>
<td>Funding source</td>
<td><code class="prettyprint">https://api.dwolla.com/funding-sources/{id}</code></td>
<td>Destination of an Account or verified Customer&rsquo;s own bank or balance funding source. <strong>OR</strong> A Customer&rsquo;s bank funding source.</td>
</tr>
</tbody></table>
<h3 id='facilitator-fee'>Facilitator fee</h3>
<p>The facilitator fee is a feature allowing for a flat rate amount to be removed from a payment as a fee, and sent to the creator of the Dwolla application. The fee does not affect the original payment amount, and exists as a separate <a href="#transfer-resource">Transfer resource</a> with a unique transfer ID. Within a transfer request you can specify an optional <code class="prettyprint">fees</code> request parameter, which is an array of <a href="#a-fee-json-object">fee objects</a> that can represent many unique fee transfers.</p>

<p>For more information on collecting fees on payments, reference the <a href="https://developers.dwolla.com/resources/facilitator-fee.html">facilitator fee</a> resource article.</p>
<h4 id='a-fee-json-object'>A fee JSON object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>Contains a <code class="prettyprint">charge-to</code> JSON object with a link to the associated source or destination <code class="prettyprint">Customer</code> or <code class="prettyprint">Account</code> resource.</td>
</tr>
<tr>
<td>amount</td>
<td>Amount of fee to charge. An amount JSON object. <a href="#amount-json-object">See above</a></td>
</tr>
</tbody></table>
<h4 id='fee-object-example'>Fee object example:</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">  
   </span><span class="nt">"_links"</span><span class="p">:{</span><span class="w">  
      </span><span class="nt">"charge-to"</span><span class="p">:{</span><span class="w">  
         </span><span class="nt">"href"</span><span class="p">:</span><span class="s2">"https://api-uat.dwolla.com/customers/d795f696-2cac-4662-8f16-95f1db9bddd8"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"amount"</span><span class="p">:{</span><span class="w">  
      </span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"4.00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Transfer failed.</td>
</tr>
<tr>
<td>403</td>
<td>OAuth token does not have Send scope.</td>
</tr>
</tbody></table>
<h3 id='request-and-response-transfer-from-account-to-customer'>Request and response (transfer from Account to Customer)</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /transfers
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
Idempotency-Key: 19051a62-3403-11e6-ac61-9e71128cae77
{
    "_links": {
        "destination": {
            "href": "https://api.dwolla.com/customers/07D59716-EF22-4FE6-98E8-F3190233DFB8"
        },
        "source": {
            "href": "https://api.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"
        }
    },
    "amount": {
        "currency": "USD",
        "value": "10.00"
    },
    "metadata": {
        "foo": "bar",
        "baz": "boo"
    },
   "fees":[  
      {  
         "_links":{  
            "charge-to":{  
               "href":"http://api-uat.dwolla.com/customers/07D59716-EF22-4FE6-98E8-F3190233DFB8"
            }
         },
         "amount":{  
            "value":"1.00",
            "currency":"USD"
         }
      }
   ]
}

...

HTTP/1.1 201 Created
Location: https://api.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:_links</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api.dwolla.com/customers/07D59716-EF22-4FE6-98E8-F3190233DFB8"</span>
    <span class="p">},</span>
    <span class="ss">:source</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">,</span>
    <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"1.00"</span>
  <span class="p">},</span>
  <span class="ss">:metadata</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:foo</span> <span class="o">=&gt;</span> <span class="s2">"bar"</span><span class="p">,</span>
    <span class="ss">:baz</span> <span class="o">=&gt;</span> <span class="s2">"boo"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">transfer</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"transfers"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">transfer</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">transfer</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">TransfersApi</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">:body</span> <span class="o">=&gt;</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">transfer</span> <span class="c1"># =&gt; "https://api.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$transfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transfer</span> <span class="o">=</span> <span class="nv">$transfersApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
  <span class="s1">'_links'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'destination'</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api.dwolla.com/customers/07D59716-EF22-4FE6-98E8-F3190233DFB8'</span>
    <span class="p">],</span>
    <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span><span class="p">,</span>
    <span class="p">],</span>
  <span class="p">],</span>
  <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'1.00'</span>
  <span class="p">],</span>
  <span class="s1">'metadata'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'foo'</span> <span class="o">=&gt;</span> <span class="s1">'bar'</span><span class="p">,</span>
    <span class="s1">'baz'</span> <span class="o">=&gt;</span> <span class="s1">'boo'</span><span class="p">,</span>
  <span class="p">]</span>
<span class="p">]);</span>
<span class="nv">$transfer</span><span class="p">;</span> <span class="c1"># =&gt; "https://api.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'_links'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'destination'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api.dwolla.com/customers/07D59716-EF22-4FE6-98E8-F3190233DFB8'</span>
    <span class="p">},</span>
    <span class="s">'source'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">'amount'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
    <span class="s">'value'</span><span class="p">:</span> <span class="s">'1.00'</span>
  <span class="p">},</span>
  <span class="s">'metadata'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'foo'</span><span class="p">:</span> <span class="s">'bar'</span><span class="p">,</span>
    <span class="s">'baz'</span><span class="p">:</span> <span class="s">'boo'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">transfer</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'transfers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">transfer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">transfers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">TransfersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">transfer</span> <span class="o">=</span> <span class="n">transfers_api</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">body</span> <span class="o">=</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">transfer</span> <span class="c"># =&gt; 'https://api.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">_links</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">destination</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api.dwolla.com/customers/07D59716-EF22-4FE6-98E8-F3190233DFB8'</span>
    <span class="p">},</span>
    <span class="na">source</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">amount</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="na">value</span><span class="p">:</span> <span class="s1">'1.00'</span>
  <span class="p">},</span>
  <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">foo</span><span class="p">:</span> <span class="s1">'bar'</span><span class="p">,</span>
    <span class="na">baz</span><span class="p">:</span> <span class="s1">'boo'</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'transfers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">);</span> <span class="c1">// =&gt; 'https://api.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='get-a-transfer-by-id'>Get a transfer by id</h2>
<p>This section covers how to retrieve a transfer belonging to an Account or Customer by its id.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Transactions</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/transfers/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The id of the transfer to be retrieved.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Transfer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/transfers/4C8AD8B8-3D69-E511-80DB-0AA34A9B2388
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/transfers/4C8AD8B8-3D69-E511-80DB-0AA34A9B2388"
    },
    "source": {
      "href": "https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
    },
    "destination": {
      "href": "https://api.dwolla.com/customers/01B47CB2-52AC-42A7-926C-6F1F50B1F271"
    }
  },
  "id": "4C8AD8B8-3D69-E511-80DB-0AA34A9B2388",
  "status": "pending",
  "amount": {
    "value": "225.00",
    "currency": "USD"
  },
  "created": "2015-10-02T19:42:32.950Z",
  "metadata": {
    "foo": "bar",
    "baz": "foo"
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">transfer_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/transfers/4C8AD8B8-3D69-E511-80DB-0AA34A9B2388'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">transfer</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">transfer_url</span>
<span class="n">transfer</span><span class="p">.</span><span class="nf">status</span> <span class="c1"># =&gt; "pending"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">transfer</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">TransfersApi</span><span class="p">.</span><span class="nf">by_id</span><span class="p">(</span><span class="n">transfer_url</span><span class="p">)</span>
<span class="n">transfer</span><span class="p">.</span><span class="nf">status</span> <span class="c1"># =&gt; "pending"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$transferUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/transfers/4C8AD8B8-3D69-E511-80DB-0AA34A9B2388'</span><span class="p">;</span>

<span class="nv">$transfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transfer</span> <span class="o">=</span> <span class="nv">$transfersApi</span><span class="o">-&gt;</span><span class="na">byId</span><span class="p">(</span><span class="nv">$transferUrl</span><span class="p">);</span>
<span class="nv">$transfer</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "pending"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">transfer_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/transfers/4C8AD8B8-3D69-E511-80DB-0AA34A9B2388'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">fees</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">transfer_url</span><span class="p">)</span>
<span class="n">fees</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'stats'</span><span class="p">]</span> <span class="c"># =&gt; 'pending'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">transfers_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">TransfersApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">transfer</span> <span class="o">=</span> <span class="n">transfers_api</span><span class="o">.</span><span class="n">by_id</span><span class="p">(</span><span class="n">transfer_url</span><span class="p">)</span>
<span class="n">transfer</span><span class="o">.</span><span class="n">status</span> <span class="c"># =&gt; 'pending'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">transferUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/transfers/4C8AD8B8-3D69-E511-80DB-0AA34A9B2388'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">transferUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">status</span><span class="p">;</span> <span class="c1">// =&gt; 'pending'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='get-a-transfer39s-fees'>Get a transfer&rsquo;s fees</h2>
<p>This section outlines how to retrieve fees charged on a created transfer. Fees are visible to the <code class="prettyprint">Customer</code> or <code class="prettyprint">Account</code> that is charged the fee, as well as the Dwolla <code class="prettyprint">Account</code> that is involved in receiving the fee.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Transactions</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/transfers/{id}/fees</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The id of the transfer to retrieve fees for.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Transfer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-uat.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388/fees
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "transactions": [
    {
      "_links": {
        "self": {
          "href": "https://api-uat.dwolla.com/transfers/416a2857-c887-4cca-bd02-8c3f75c4bb0e"
        },
        "source": {
          "href": "https://api-uat.dwolla.com/customers/b442c936-1f87-465d-a4e2-a982164b26bd"
        },
        "destination": {
          "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
        },
        "created-from-transfer": {
          "href": "https://api-uat.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388"
        }
      },
      "id": "416a2857-c887-4cca-bd02-8c3f75c4bb0e",
      "status": "pending",
      "amount": {
        "value": "2.00",
        "currency": "usd"
      },
      "created": "2016-02-22T20:46:38.777Z"
    },
    {
      "_links": {
        "self": {
          "href": "https://api-uat.dwolla.com/transfers/e58ae1f1-7007-47d3-a308-7e9aa6266d53"
        },
        "source": {
          "href": "https://api-uat.dwolla.com/customers/b442c936-1f87-465d-a4e2-a982164b26bd"
        },
        "destination": {
          "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
        },
        "created-from-transfer": {
          "href": "https://api-uat.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388"
        }
      },
      "id": "e58ae1f1-7007-47d3-a308-7e9aa6266d53",
      "status": "pending",
      "amount": {
        "value": "1.00",
        "currency": "usd"
      },
      "created": "2016-02-22T20:46:38.860Z"
    }
  ],
  "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">transfer_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">fees</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">transfer_url</span><span class="si">}</span><span class="s2">/fees"</span>
<span class="n">fees</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 2</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">transfer_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">fees</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/fees'</span> <span class="o">%</span> <span class="n">transfer_url</span><span class="p">)</span>
<span class="n">fees</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 2</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">transferUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">transferUrl</span><span class="p">}</span><span class="sr">/fees`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">;</span> <span class="c1">// =&gt; 2</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='get-transfer-failure-reason'>Get transfer failure reason</h2>
<p>When a bank transfer fails for an Account or Customer, Dwolla returns a <code class="prettyprint">failure</code> link when <a href="#get-a-transfer-by-id">getting the transfer by Id</a>. This failure link is used to retrieve the return code and description. For reference, the list of possible failure codes and descriptions are shown in the <a href="https://developers.dwolla.com/resources/bank-transfer-workflow/transfer-failures.html">Transfer failures</a> resource article.</p>

<p><strong>Note:</strong> If a transfer fails to/from a bank account then the <code class="prettyprint">bank</code> will automatically be removed from the Dwolla system for all ACH return codes except an <code class="prettyprint">R01</code>.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Transactions</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/transfers/{id}/failure</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Transfer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and Response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-uat.dwolla.com/transfers/e6d9a950-ac9e-e511-80dc-0aa34a9b2388/failure
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/transfers/E6D9A950-AC9E-E511-80DC-0AA34A9B2388/failure"
    }
  },
  "code": "R1",
  "description": "Insufficient Funds"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">transfer_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">failure</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">transfer_url</span><span class="si">}</span><span class="s2">/failure"</span>
<span class="n">failure</span><span class="p">.</span><span class="nf">code</span> <span class="c1"># =&gt; "R1"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">transfer_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">failure</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/failure'</span> <span class="o">%</span> <span class="n">transfer_url</span><span class="p">)</span>
<span class="n">failure</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'code'</span><span class="p">]</span> <span class="c"># =&gt; 'R1'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">transferUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">transferUrl</span><span class="p">}</span><span class="sr">/failure`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">code</span><span class="p">;</span> <span class="c1">// =&gt; 'R1'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='cancel-a-transfer'>Cancel a transfer</h2>
<p>When a bank transfer is eligible for cancellation, Dwolla returns a <code class="prettyprint">cancel</code> link  when <a href="#get-a-transfer-by-id">getting the transfer by Id</a>. This cancel link is used to trigger the cancellation, preventing the bank transfer from processing further. A bank transfer is cancellable up until 4pm CT on that same business day if the transfer was initiated prior to 4PM CT. If a transfer was initiated after 4pm CT, it can be cancelled anytime before 4pm CT on the following business day.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Transactions</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/transfers/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>yes</td>
<td>string</td>
<td>Possible value: <code class="prettyprint">cancelled</code>.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and Response</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">POST https://api-uat.dwolla.com/transfers/3d48c13a-0fc6-e511-80de-0aa34a9b2388
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "status": "cancelled"
}

...

{
  "_links": {
    "cancel": {
      "href": "https://api-uat.dwolla.com/transfers/3d48c13a-0fc6-e511-80de-0aa34a9b2388"
    },
    "source": {
      "href": "https://api-uat.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
    },
    "funding-transfer": {
      "href": "https://api-uat.dwolla.com/transfers/3c48c13a-0fc6-e511-80de-0aa34a9b2388"
    },
    "self": {
      "href": "https://api-uat.dwolla.com/transfers/3d48c13a-0fc6-e511-80de-0aa34a9b2388"
    },
    "destination": {
      "href": "https://api-uat.dwolla.com/customers/05e267e5-c13d-491a-93a8-da52b721f123"
    }
  },
  "id": "3d48c13a-0fc6-e511-80de-0aa34a9b2388",
  "status": "cancelled",
  "amount": {
    "value": "22.00",
    "currency": "usd"
  },
  "created": "2016-01-28T22:34:02.663Z",
  "metadata": {
    "foo": "bar",
    "baz": "boo"
  }
}
</code></pre></div></div>
            <h1 id='masspay'>MassPay</h1>
<p>Dwolla MassPay allows you to easily send up to 5,000 payments one API request. The payments are funded from a single user&rsquo;s specified funding source and processed asynchronously upon submission.</p>

<p>Your mass payment will then be queued and processed.  As the service processes your mass payment, each <code class="prettyprint">item</code> is processed one after the other, at a rate between 0.5 sec. - 1 sec. / item.  Therefore, you can expect a 1000-item MassPay to be completed between 8-16 minutes.</p>

<p>MassPay offers a significant advantage over repeatedly calling the <a href="#transfers">Transfers</a> endpoint for each individual transaction. This benefit is the fact that a bank-funded MassPay only incurs a single ACH debit from the bank account to fund the entire batch of payments.  The alternative approach will incur a debit from the bank funding source for each individual payment.  Those who used this approach have reported incurring fees from their financial institutions for excessive ACH transactions.</p>
<h3 id='mass-payment-resource'>Mass payment resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Mass payment unique identifier</td>
</tr>
<tr>
<td>status</td>
<td>Either <code class="prettyprint">pending</code>, <code class="prettyprint">processing</code>, or <code class="prettyprint">complete</code></td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp</td>
</tr>
<tr>
<td>metadata</td>
<td>A metadata JSON object</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-11T15:52:58.289Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='initiate-a-mass-payment'>Initiate a mass payment</h2>
<p>This section covers how to initiate a mass payment from an <a href="#accounts">Account</a> or verified <a href="#customers">Customer</a> resource. A mass payment contains a list of <code class="prettyprint">items</code> representing individual payments. Optionally, mass payments can contain <code class="prettyprint">metadata</code> on the mass payment itself as well as items contained in the mass payment which can be used to pass along additional information with the mass payment and item respectively.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Send</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/mass-payments</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>yes</td>
<td>object</td>
<td>A _links JSON object describing the desired <code class="prettyprint">source</code> of a mass payment. <a href="#source-and-destination-values">See below</a> for possible values for <code class="prettyprint">source</code> and <code class="prettyprint">destination</code>.</td>
</tr>
<tr>
<td>items</td>
<td>yes</td>
<td>array</td>
<td>an array of item JSON objects that contain unique payments. <a href="#mass-payment-item">See below</a></td>
</tr>
<tr>
<td>metadata</td>
<td>no</td>
<td>object</td>
<td>A metadata JSON object with a maximum of 10 key-value pairs (each key and value must be less than 255 characters).</td>
</tr>
</tbody></table>
<h3 id='source-and-destination-values'>Source and destination values</h3>
<table><thead>
<tr>
<th>Source Type</th>
<th>URI</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Funding source</td>
<td><code class="prettyprint">https://api.dwolla.com/funding-sources/{id}</code></td>
<td>A bank or balance funding source of an <a href="#accounts">Account</a> or verified <a href="#customers">Customer</a>.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Destination Type</th>
<th>URI</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Account</td>
<td><code class="prettyprint">https://api.dwolla.com/accounts/{id}</code></td>
<td>Destination <a href="#accounts">Account</a> of a transfer.</td>
</tr>
<tr>
<td>Customer</td>
<td><code class="prettyprint">https://api.dwolla.com/customers/{id}</code></td>
<td>Destination <a href="#customers">Customer</a> of a transfer.</td>
</tr>
<tr>
<td>Email</td>
<td><code class="prettyprint">mailto:johndoe@email.com</code></td>
<td>Email address of existing Dwolla Account or recipient (recipient will create a Dwolla Account to claim funds)</td>
</tr>
<tr>
<td>Funding source</td>
<td><code class="prettyprint">https://api.dwolla.com/funding-sources/{id}</code></td>
<td>Destination of a verified Customer&rsquo;s own bank or balance funding source. <strong>OR</strong> An unverified Customer&rsquo;s bank funding source.</td>
</tr>
</tbody></table>
<h3 id='mass-payment-item'>Mass payment item</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>Can return <code class="prettyprint">mass-payment</code>, <code class="prettyprint">destination</code> and <code class="prettyprint">transfer</code> JSON objects that contain relational links to associated resources.</td>
</tr>
<tr>
<td>amount</td>
<td>An amount JSON object containing <code class="prettyprint">currency</code> and <code class="prettyprint">value</code> keys.</td>
</tr>
<tr>
<td>metadata</td>
<td>A metadata JSON object with a maximum of 10 key-value pairs (each key and value must be less than 255 characters).</td>
</tr>
</tbody></table>
<h4 id='item-object-example'>Item object example:</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https: //api.dwolla.com/customers/01B47CB2-52AC-42A7-926C-6F1F50B1F271"</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
  </span><span class="err">}</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Created</td>
<td>A mass payment resource was created</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Can be: Items exceeded maximum count of 5000, Invalid amount, Invalid metadata, or Invalid funding source.</td>
</tr>
<tr>
<td>401</td>
<td>NotAuthorized</td>
<td>OAuth token does not have Send scope.</td>
</tr>
</tbody></table>
<h3 id='request-and-response-transfer-from-account-to-customer'>Request and response (transfer from Account to Customer)</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /mass-payments
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
Idempotency-Key: 19051a62-3403-11e6-ac61-9e71128cae77
{
    "_links": {
        "source": {
            "href": "https://api-uat.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"
        }
    },
    "items": [
      {
        "_links": {
            "destination": {
                "href": "https://api-uat.dwolla.com/customers/9c7f8d57-cd45-4e7a-bf7a-914dbd6131db"
            }
        },
        "amount": {
            "currency": "USD",
            "value": "1.00"
        },
        "metadata": {
            "payment1": "payment1"
        }
      },
            {
        "_links": {
            "destination": {
                "href": "https://api-uat.dwolla.com/customers/b442c936-1f87-465d-a4e2-a982164b26bd"
            }
        },
        "amount": {
            "currency": "USD",
            "value": "5.00"
        },
        "metadata": {
            "payment2": "payment2"
        }
      }
    ],
    "metadata": {
        "batch1": "batch1"
    }
}

...

HTTP/1.1 201 Created
Location: https://api.dwolla.com/mass-payments/d093bcd1-d0c1-41c2-bcb5-a5cc011be0b7
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">_links: </span><span class="p">{</span>
    <span class="ss">source: </span><span class="p">{</span>
      <span class="ss">href: </span><span class="s2">"https://api-uat.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="ss">items: </span><span class="p">[</span>
    <span class="p">{</span>
      <span class="ss">_links: </span><span class="p">{</span>
        <span class="ss">destination: </span><span class="p">{</span>
          <span class="ss">href: </span><span class="s2">"https://api-uat.dwolla.com/customers/9c7f8d57-cd45-4e7a-bf7a-914dbd6131db"</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="ss">amount: </span><span class="p">{</span>
        <span class="ss">currency: </span><span class="s2">"USD"</span><span class="p">,</span>
        <span class="ss">value: </span><span class="s2">"1.00"</span>
      <span class="p">},</span>
      <span class="ss">metadata: </span><span class="p">{</span>
        <span class="ss">payment1: </span><span class="s2">"payment1"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="ss">_links: </span><span class="p">{</span>
        <span class="ss">destination: </span><span class="p">{</span>
          <span class="ss">href: </span><span class="s2">"https://api-uat.dwolla.com/customers/b442c936-1f87-465d-a4e2-a982164b26bd"</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="ss">amount: </span><span class="p">{</span>
        <span class="ss">currency: </span><span class="s2">"USD"</span><span class="p">,</span>
        <span class="ss">value: </span><span class="s2">"5.00"</span>
      <span class="p">},</span>
      <span class="ss">metadata: </span><span class="p">{</span>
        <span class="ss">payment2: </span><span class="s2">"payment2"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="ss">metadata: </span><span class="p">{</span>
    <span class="ss">batch1: </span><span class="s2">"batch1"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">mass_payment</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"mass-payments"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">mass_payment</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/mass-payments/cf1e9e00-09cf-43da-b8b5-a43b3f6192d4"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet. Coming soon.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># No example for this language yet. Coming soon.</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">_links</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">source</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-uat.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">items</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">_links</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">destination</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-uat.dwolla.com/customers/9c7f8d57-cd45-4e7a-bf7a-914dbd6131db'</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="na">amount</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span><span class="p">,</span>
        <span class="na">value</span><span class="p">:</span> <span class="s1">'1.00'</span>
      <span class="p">},</span>
      <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">payment1</span><span class="p">:</span> <span class="s1">'payment1'</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">_links</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">destination</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-uat.dwolla.com/customers/b442c936-1f87-465d-a4e2-a982164b26bd'</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="na">amount</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span><span class="p">,</span>
        <span class="na">value</span><span class="p">:</span> <span class="s1">'5.00'</span>
      <span class="p">},</span>
      <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">payment2</span><span class="p">:</span> <span class="s1">'payment2'</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">batch1</span><span class="p">:</span> <span class="s1">'batch1'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'mass-payments'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">);</span> <span class="c1">// =&gt; 'https://api-uat.dwolla.com/mass-payments/cf1e9e00-09cf-43da-b8b5-a43b3f6192d4'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='get-a-mass-payment-by-id'>Get a mass payment by id</h2>
<p>This section outlines how to retrieve a mass payment by its id. All mass payments will have a status of <code class="prettyprint">pending</code> upon creation and will move to <code class="prettyprint">processing</code> and finally <code class="prettyprint">complete</code> as the service runs. It is recommended that you retrieve your <a href="#list-mass-payment-items">list of mass payment items</a> when your mass payment has a status of <code class="prettyprint">complete</code> to determine if any items failed to process successfully.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Transactions</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/mass-payments/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The id of the mass payment to retrieve information for.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Mass payment not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563"
    },
    "source": {
      "href": "https://api-uat.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"
    },
    "items": {
      "href": "https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563/items"
    }
  },
  "id": "eb467252-808c-4bc0-b86f-a5cd01454563",
  "status": "processing",
  "created": "2016-03-18T19:44:16.000Z",
  "metadata": {}
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">mass_payment_url</span> <span class="o">=</span> <span class="s2">"https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563"</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">mass_payment</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">mass_payment_url</span>
<span class="n">mass_payment</span><span class="p">.</span><span class="nf">status</span> <span class="c1"># =&gt; "processing"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet. Coming soon.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># No example for this language yet. Coming soon.</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">massPaymentUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">massPaymentUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">status</span><span class="p">;</span> <span class="c1">// =&gt; 'processing'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='list-mass-payment-items'>List mass payment items</h2>
<p>A mass payment contains a list of payments called <code class="prettyprint">items</code>. An <code class="prettyprint">item</code> is distinct from the transfer which it creates. An item can contain a status of either <code class="prettyprint">failed</code>, <code class="prettyprint">pending</code>, or <code class="prettyprint">success</code> depending on whether the payment was created by the Dwolla service or not. A mass payment item status of <code class="prettyprint">success</code> is an indication that a transfer was successfully created. A mass payment&rsquo;s items will be returned in the <code class="prettyprint">_embedded</code> object as a list of <code class="prettyprint">items</code>.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Transactions</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/mass-payments/{id}/items</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Mass payment unique identifier.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>How many results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>How many results to skip.</td>
</tr>
<tr>
<td>status</td>
<td>no</td>
<td>string</td>
<td>Filter results on item status. Possible values: <code class="prettyprint">failed</code>, <code class="prettyprint">pending</code>, and <code class="prettyprint">success</code>. Values delimited by <code class="prettyprint">&amp;status=</code> (i.e. - <code class="prettyprint">/items?status=failed&amp;status=pending</code>).</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Not authorized to list mass payment items.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Mass payment not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563/items
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563/items"
    },
    "first": {
      "href": "https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563/items?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563/items?limit=25&amp;offset=0"
    }
  },
  "_embedded": {
    "items": [
      {
        "_links": {
          "self": {
            "href": "https://api-uat.dwolla.com/mass-payment-items/2f845bc9-41ed-e511-80df-0aa34a9b2388"
          },
          "mass-payment": {
            "href": "https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563"
          },
          "destination": {
            "href": "https://api-uat.dwolla.com/customers/9c7f8d57-cd45-4e7a-bf7a-914dbd6131db"
          },
          "transfer": {
            "href": "https://api-uat.dwolla.com/transfers/fa3999db-41ed-e511-80df-0aa34a9b2388"
          }
        },
        "id": "2f845bc9-41ed-e511-80df-0aa34a9b2388",
        "status": "success",
        "amount": {
          "value": "1.00",
          "currency": "USD"
        },
        "metadata": {
          "item1": "item1"
        }
      },
      {
        "_links": {
          "self": {
            "href": "https://api-uat.dwolla.com/mass-payment-items/30845bc9-41ed-e511-80df-0aa34a9b2388"
          },
          "mass-payment": {
            "href": "https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563"
          },
          "destination": {
            "href": "https://api-uat.dwolla.com/customers/b442c936-1f87-465d-a4e2-a982164b26bd"
          },
          "transfer": {
            "href": "https://api-uat.dwolla.com/transfers/fb3999db-41ed-e511-80df-0aa34a9b2388"
          }
        },
        "id": "30845bc9-41ed-e511-80df-0aa34a9b2388",
        "status": "success",
        "amount": {
          "value": "2.00",
          "currency": "USD"
        },
        "metadata": {
          "item2": "item2"
        }
      }
    ]
  },
  "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">mass_payment_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">mass_payment_items</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">mass_payment_url</span><span class="si">}</span><span class="s2">/items"</span>
<span class="n">mass_payment_items</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 2</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet. Coming soon.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># No example for this language yet. Coming soon.</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">massPaymentUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563'</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">massPaymentUrl</span><span class="p">}</span><span class="sr">/items`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">;</span> <span class="c1">// =&gt; 2</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='get-a-mass-payment-item-by-id'>Get a mass payment item by id</h2>
<p>This section covers how to retrieve a mass payment item by its unique identifier. An item can contain <code class="prettyprint">_links</code> to: the mass payment the item belongs to, the transfer created from the item, and the destination user.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth account access token with the <code>Transactions</code> scope.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/mass-payment-items/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The id of the item to be retrieved in a mass payment.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Not authorized to list mass payment items.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Mass payment not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-uat.dwolla.com/mass-payment-items/c1c7d293-63ec-e511-80df-0aa34a9b2388
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/mass-payment-items/2f845bc9-41ed-e511-80df-0aa34a9b2388"
    },
    "mass-payment": {
      "href": "https://api-uat.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563"
    },
    "destination": {
      "href": "https://api-uat.dwolla.com/customers/9c7f8d57-cd45-4e7a-bf7a-914dbd6131db"
    },
    "transfer": {
      "href": "https://api-uat.dwolla.com/transfers/fa3999db-41ed-e511-80df-0aa34a9b2388"
    }
  },
  "id": "2f845bc9-41ed-e511-80df-0aa34a9b2388",
  "status": "success",
  "amount": {
    "value": "1.00",
    "currency": "USD"
  },
  "metadata": {
    "item1": "item1"
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">mass_payment_item_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/mass-payment-items/c1c7d293-63ec-e511-80df-0aa34a9b2388'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">mass_payment_item</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">mass_payment_item_url</span>
<span class="n">mass_payment_item</span><span class="p">.</span><span class="nf">status</span> <span class="c1"># =&gt; "success"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet. Coming soon.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">mass_payment_item_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/mass-payment-items/c1c7d293-63ec-e511-80df-0aa34a9b2388'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">mass_payment_item</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mass_payment_item_url</span><span class="p">)</span>
<span class="n">mass_payment_item</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'success'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">massPaymentItemUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/mass-payment-items/c1c7d293-63ec-e511-80df-0aa34a9b2388'</span><span class="p">;</span>

<span class="nx">accountToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">massPaymentItemUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">status</span><span class="p">;</span> <span class="c1">// =&gt; 'success'</span>
  <span class="p">});</span>
</code></pre></div></div>
            <h1 id='events'>Events</h1>
<p>When the state of a resource changes, we create a new event resource to record the change.  For instance, if a Customer&rsquo;s status changes to <code class="prettyprint">verified</code>, a <code class="prettyprint">customer_verified</code> event will be created.  When an Event is created, a <a href="#webhooks">Webhook</a> will be created to deliver the Event to any URLs specified by your active <a href="#webhook-subscriptions">Webhook Subscriptions</a>.</p>
<h3 id='events-resource'>Events resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>Contains links to the event, associated resource, the Account associated with the event, and the Customer associated with the event (if any).</td>
</tr>
<tr>
<td>id</td>
<td>Event id</td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp when event was created</td>
</tr>
<tr>
<td>topic</td>
<td>Type of event</td>
</tr>
<tr>
<td>resourceId</td>
<td>id of the resource associated with the event.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/events/f8e70f48-b7ff-47d0-9d3d-62a099363a76"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/transfers/48CFDDB4-1E74-E511-80DB-0AA34A9B2388"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f8e70f48-b7ff-47d0-9d3d-62a099363a76"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-16T15:58:15.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer_created"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48CFDDB4-1E74-E511-80DB-0AA34A9B2388"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='event-topics---a-hrefaccountsaccountsa'>Event topics - (<a href="#accounts">Accounts</a>)</h3>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>funding_source_added</td>
<td>A funding source was added to a Dwolla account.</td>
</tr>
<tr>
<td>funding_source_removed</td>
<td>A funding source was removed from a Dwolla account.</td>
</tr>
<tr>
<td>funding_source_unverified</td>
<td>A funding source was marked as <code class="prettyprint">unverified</code>.</td>
</tr>
<tr>
<td>funding_source_verified</td>
<td>A funding source was marked as <code class="prettyprint">verified</code>.</td>
</tr>
<tr>
<td>microdeposits_added</td>
<td>Two &lt;=10¢ transfers to a Dwolla account’s linked bank account were initiated.</td>
</tr>
<tr>
<td>microdeposits_failed</td>
<td>The two &lt;=10¢ transfers to a Dwolla account’s linked bank account failed to clear successfully.</td>
</tr>
<tr>
<td>microdeposits_completed</td>
<td>The two &lt;=10¢ transfers to a Dwolla account’s linked bank account have cleared successfully.</td>
</tr>
<tr>
<td>microdeposits_maxattempts</td>
<td>The account has reached their max verification attempts limit of three. The account can no longer verify their funding source with the completed micro-deposit amounts.</td>
</tr>
<tr>
<td>bank_transfer_created</td>
<td>A bank transfer was created.</td>
</tr>
<tr>
<td>bank_transfer_cancelled</td>
<td>A pending bank transfer has been cancelled, and will not process further.</td>
</tr>
<tr>
<td>bank_transfer_failed</td>
<td>A transfer failed to clear successfully. Usually, this is a result of an ACH failure (insufficient funds, etc.).</td>
</tr>
<tr>
<td>bank_transfer_completed</td>
<td>A bank transfer has cleared successfully.</td>
</tr>
<tr>
<td>transfer_created</td>
<td>A transfer was created.</td>
</tr>
<tr>
<td>transfer_cancelled</td>
<td>A pending transfer has been cancelled, and will not process further.</td>
</tr>
<tr>
<td>transfer_failed</td>
<td>A transfer failed to clear successfully.</td>
</tr>
<tr>
<td>transfer_reclaimed</td>
<td>The transfer was returned to the sender after remaining unclaimed by the intended recipient for a period of time.</td>
</tr>
<tr>
<td>transfer_completed</td>
<td>A transfer has cleared successfully.</td>
</tr>
<tr>
<td>mass_payment_created</td>
<td>A mass payment was created.</td>
</tr>
<tr>
<td>mass_payment_completed</td>
<td>A mass payment completed.</td>
</tr>
<tr>
<td>account_suspended</td>
<td>An account was suspended.</td>
</tr>
<tr>
<td>account_activated</td>
<td>A Dwolla account moves from deactive or suspended to active state of verification.</td>
</tr>
</tbody></table>
<h3 id='event-topics---a-hrefcustomerscustomersa'>Event topics - (<a href="#customers">Customers</a>)</h3>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer_created</td>
<td>A Customer was created.</td>
</tr>
<tr>
<td>customer_verification_document_needed</td>
<td>Additional documentation is needed to verify a Customer.</td>
</tr>
<tr>
<td>customer_verification_document_uploaded</td>
<td>A verification document was uploaded for a Customer.</td>
</tr>
<tr>
<td>customer_verification_document_failed</td>
<td>A verification document has been rejected for a Customer.</td>
</tr>
<tr>
<td>customer_verification_document_approved</td>
<td>A verification document was approved for a Customer.</td>
</tr>
<tr>
<td>customer_reverification_needed</td>
<td>Incomplete information was received for a Customer; updated information is needed to verify the Customer.</td>
</tr>
<tr>
<td>customer_verified</td>
<td>A Customer was verified.</td>
</tr>
<tr>
<td>customer_suspended</td>
<td>A Customer was suspended.</td>
</tr>
<tr>
<td>customer_activated</td>
<td>A Customer moves from deactive or suspended to active state of verification.</td>
</tr>
<tr>
<td>customer_funding_source_added</td>
<td>A funding source was added to a Customer.</td>
</tr>
<tr>
<td>customer_funding_source_removed</td>
<td>A funding source was removed from a Customer.</td>
</tr>
<tr>
<td>customer_funding_source_unverified</td>
<td>A Customer’s funding source was marked as unverified.</td>
</tr>
<tr>
<td>customer_funding_source_verified</td>
<td>A Customer’s funding source was marked as verified.</td>
</tr>
<tr>
<td>customer_microdeposits_added</td>
<td>Two &lt;=10¢ transfers to a Customer’s linked bank account were initiated.</td>
</tr>
<tr>
<td>customer_microdeposits_failed</td>
<td>The two &lt;=10¢ transfers to a Customer’s linked bank account failed to clear successfully.</td>
</tr>
<tr>
<td>customer_microdeposits_completed</td>
<td>The two &lt;=10¢ transfers to a Customer’s linked bank account have cleared successfully.</td>
</tr>
<tr>
<td>customer_microdeposits_maxattempts</td>
<td>The Customer has reached their max verification attempts limit of three. The Customer can no longer verify their funding source with the completed micro-deposit amounts.</td>
</tr>
<tr>
<td>customer_bank_transfer_created</td>
<td>A bank transfer was created for a Customer. Represents funds moving either from a verified Customer&rsquo;s bank to the Dwolla network or from the Dwolla network to a verified Customer&rsquo;s bank.</td>
</tr>
<tr>
<td>customer_bank_transfer_cancelled</td>
<td>A pending Customer bank transfer has been cancelled, and will not process further. Represents a cancellation of funds either transferring from a verified Customer&rsquo;s bank to the Dwolla network or from the Dwolla network to a verified Customer&rsquo;s bank.</td>
</tr>
<tr>
<td>customer_bank_transfer_failed</td>
<td>A Customer bank transfer failed to clear successfully. Usually, this is a result of an ACH failure (insufficient funds, etc.). Represents funds failing to clear either from a verified Customer&rsquo;s bank to the Dwolla network or from the Dwolla network to a verified Customer&rsquo;s bank.</td>
</tr>
<tr>
<td>customer_bank_transfer_completed</td>
<td>A bank transfer that was created for a Customer has cleared successfully. Represents funds clearing either from a verified Customer&rsquo;s bank to the Dwolla network or from the Dwolla network to a verified Customer&rsquo;s bank.</td>
</tr>
<tr>
<td>customer_transfer_created</td>
<td>A transfer was created for a Customer. Represents funds transferring from a verified Customer&rsquo;s balance or unverified Customer&rsquo;s bank</td>
</tr>
<tr>
<td>customer_transfer_cancelled</td>
<td>A pending transfer has been cancelled, and will not process further. Represents a cancellation of funds transferring either to an unverified Customer&rsquo;s bank or to a verified Customer&rsquo;s balance.</td>
</tr>
<tr>
<td>customer_transfer_failed</td>
<td>A Customer transfer failed to clear successfully. Represents funds failing to clear either to an unverified Customer&rsquo;s bank or to a verified Customer&rsquo;s balance.</td>
</tr>
<tr>
<td>customer_transfer_completed</td>
<td>A Customer transfer has cleared successfully. Represents funds clearing either to an unverified Customer&rsquo;s bank or to a verified Customer&rsquo;s balance.</td>
</tr>
<tr>
<td>customer_mass_payment_created</td>
<td>A verified Customer&rsquo;s mass payment was created.</td>
</tr>
<tr>
<td>customer_mass_payment_completed</td>
<td>A verified Customer&rsquo;s mass payment completed.</td>
</tr>
</tbody></table>
<h2 id='list-events'>List events</h2>
<p>Retrieve a list of events for the authorized user.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth <em>Application</em> access token.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/events</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>How many results to return</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>How many results to skip</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Resource not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/events
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/events"
    },
    "first": {
      "href": "https://api.dwolla.com/events?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api.dwolla.com/events?limit=25&amp;offset=150"
    },
    "next": {
      "href": "https://api.dwolla.com/events?limit=25&amp;offset=25"
    }
  },
  "_embedded": {
    "events": [
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/events/78e57644-56e4-4da2-b743-059479f2e80f"
          },
          "resource": {
            "href": "https://api.dwolla.com/transfers/47CFDDB4-1E74-E511-80DB-0AA34A9B2388"
          },
          "account": {
            "href": "https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
          }
        },
        "id": "78e57644-56e4-4da2-b743-059479f2e80f",
        "created": "2015-10-16T15:58:18.000Z",
        "topic": "bank_transfer_created",
        "resourceId": "47CFDDB4-1E74-E511-80DB-0AA34A9B2388"
      },
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/events/f8e70f48-b7ff-47d0-9d3d-62a099363a76"
          },
          "resource": {
            "href": "https://api.dwolla.com/transfers/48CFDDB4-1E74-E511-80DB-0AA34A9B2388"
          },
          "account": {
            "href": "https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
          }
        },
        "id": "f8e70f48-b7ff-47d0-9d3d-62a099363a76",
        "created": "2015-10-16T15:58:15.000Z",
        "topic": "transfer_created",
        "resourceId": "48CFDDB4-1E74-E511-80DB-0AA34A9B2388"
      },
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/events/9f0167e0-dce6-4a1a-ad26-30015d6f1cc1"
          },
          "resource": {
            "href": "https://api.dwolla.com/transfers/08A166BC-1B74-E511-80DB-0AA34A9B2388"
          },
          "account": {
            "href": "https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
          }
        },
        "id": "9f0167e0-dce6-4a1a-ad26-30015d6f1cc1",
        "created": "2015-10-16T15:37:03.000Z",
        "topic": "bank_transfer_created",
        "resourceId": "08A166BC-1B74-E511-80DB-0AA34A9B2388"
      },
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095"
          },
          "resource": {
            "href": "https://api.dwolla.com/transfers/09A166BC-1B74-E511-80DB-0AA34A9B2388"
          },
          "account": {
            "href": "https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
          },
          "customer": {
            "href": "https://api.dwolla.com/customers/07d59716-ef22-4fe6-98e8-f3190233dfb8"
          }
        },
        "id": "81f6e13c-557c-4449-9331-da5c65e61095",
        "created": "2015-10-16T15:37:02.000Z",
        "topic": "customer_transfer_created",
        "resourceId": "09A166BC-1B74-E511-80DB-0AA34A9B2388"
      }
    ]
  },
  "total": 4
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">application_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"events"</span>
<span class="n">events</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 4</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">events</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">EventsApi</span><span class="p">.</span><span class="nf">events</span>
<span class="n">events</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 4</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$eventsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\EventsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$events</span> <span class="o">=</span> <span class="nv">$eventsApi</span><span class="o">-&gt;</span><span class="na">events</span><span class="p">();</span>
<span class="nv">$events</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; 4
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">application_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'events'</span><span class="p">)</span>
<span class="n">events</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 4</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">events_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">EventsApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">events_api</span><span class="o">.</span><span class="n">events</span><span class="p">()</span>
<span class="n">events</span><span class="o">.</span><span class="n">total</span> <span class="c"># =&gt; 4</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">applicationToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'events'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">;</span> <span class="c1">// =&gt; 4</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='get-event-by-id'>Get event by id</h2>
<p>This section covers how to retrieve an event by id.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth <em>Application</em> access token.</p>
</li></ol><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/events/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>ID of application event to get.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Application event not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET /events/81f6e13c-557c-4449-9331-da5c65e61095
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095"
    },
    "resource": {
      "href": "https://api.dwolla.com/transfers/09A166BC-1B74-E511-80DB-0AA34A9B2388"
    },
    "account": {
      "href": "https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
    },
    "customer": {
      "href": "https://api.dwolla.com/customers/07d59716-ef22-4fe6-98e8-f3190233dfb8"
    }
  },
  "id": "81f6e13c-557c-4449-9331-da5c65e61095",
  "created": "2015-10-16T15:37:02.000Z",
  "topic": "customer_transfer_created",
  "resourceId": "09A166BC-1B74-E511-80DB-0AA34A9B2388"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">event_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">event</span> <span class="o">=</span> <span class="n">application_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">event_url</span>
<span class="n">event</span><span class="p">.</span><span class="nf">topic</span> <span class="c1"># =&gt; "customer_transfer_created"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">event</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">EventsApi</span><span class="p">.</span><span class="nf">id</span><span class="p">(</span><span class="n">event_url</span><span class="p">)</span>
<span class="n">event</span><span class="p">.</span><span class="nf">topic</span> <span class="c1"># =&gt; "customer_transfer_created"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$eventUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095'</span><span class="p">;</span>

<span class="nv">$eventsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\EventsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$event</span> <span class="o">=</span> <span class="nv">$eventsApi</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">(</span><span class="nv">$eventUrl</span><span class="p">);</span>
<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">topic</span><span class="p">;</span> <span class="c1"># =&gt; "customer_transfer_created"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">event_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">event</span> <span class="o">=</span> <span class="n">application_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">event_url</span><span class="p">)</span>
<span class="n">event</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'topic'</span><span class="p">]</span> <span class="c"># =&gt; 'customer_transfer_created'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">events_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">EventsApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">event</span> <span class="o">=</span> <span class="n">events_api</span><span class="o">.</span><span class="nb">id</span><span class="p">(</span><span class="n">event_url</span><span class="p">)</span>
<span class="n">event</span><span class="o">.</span><span class="n">topic</span> <span class="c"># =&gt; 'customer_transfer_created'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">eventUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095'</span><span class="p">;</span>

<span class="nx">applicationToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">eventUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">topic</span><span class="p">;</span> <span class="c1">// =&gt; 'customer_transfer_created'</span>
  <span class="p">});</span>
</code></pre></div></div>
            <h1 id='webhook-subscriptions'>Webhook subscriptions</h1>
<p>Create a webhook subscription to receive <code class="prettyprint">POST</code> requests from Dwolla (called webhooks) when events associated with your application occur.  <a href="#webhooks">Webhooks</a> are sent to a URL which you provide when creating a webhook subscription. If you are a white label partner, you will use these events to notify your customers via email as described in the white label terms of service. Refer to the <a href="#available-events">events</a> section for the list of events that trigger webhooks.</p>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/webhook-subscriptions/034a0ae2-fc7f-4922-8e4e-6fb9855ed43b"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"webhooks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/webhook-subscriptions/034a0ae2-fc7f-4922-8e4e-6fb9855ed43b/webhooks"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"034a0ae2-fc7f-4922-8e4e-6fb9855ed43b"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://requestb.in/vbxb1bvb"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-06T01:11:36.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='acknowledgement-and-retries'>Acknowledgement and retries</h3>
<p>When your application receives a <a href="#webhooks">webhook</a>, it should respond with a HTTP 2xx status code to indicate successful receipt. If Dwolla receives a status code greater than a HTTP 400, or your application fails to respond within 20 seconds of the attempt, another attempt will be made.</p>

<p>Dwolla will re-attempt delivery 8 times over the course of 72 hours according the backoff schedule below. If a webhook was successfully received but you would like the information again, you can call <a href="#get-webhook-by-id">retrieve webhook by ID</a>.</p>

<table><thead>
<tr>
<th style="text-align: center">Retry number</th>
<th style="text-align: center">Interval (relative to last retry)</th>
<th style="text-align: center">Interval (relative to original attempt)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">1</td>
<td style="text-align: center">15 min</td>
<td style="text-align: center">15 min</td>
</tr>
<tr>
<td style="text-align: center">2</td>
<td style="text-align: center">45 min</td>
<td style="text-align: center">1 h</td>
</tr>
<tr>
<td style="text-align: center">3</td>
<td style="text-align: center">2 h</td>
<td style="text-align: center">3 h</td>
</tr>
<tr>
<td style="text-align: center">4</td>
<td style="text-align: center">3 h</td>
<td style="text-align: center">6 h</td>
</tr>
<tr>
<td style="text-align: center">5</td>
<td style="text-align: center">6 h</td>
<td style="text-align: center">12 h</td>
</tr>
<tr>
<td style="text-align: center">6</td>
<td style="text-align: center">12 h</td>
<td style="text-align: center">24 h</td>
</tr>
<tr>
<td style="text-align: center">7</td>
<td style="text-align: center">24 h</td>
<td style="text-align: center">48 h</td>
</tr>
<tr>
<td style="text-align: center">8</td>
<td style="text-align: center">24 h</td>
<td style="text-align: center">72 h</td>
</tr>
</tbody></table>
<h3 id='webhook-resource'>Webhook resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Webhook unique identifier</td>
</tr>
<tr>
<td>topic</td>
<td>Type of webhook subscription</td>
</tr>
<tr>
<td>accountId</td>
<td>Account associated with the webhook notification</td>
</tr>
<tr>
<td>eventId</td>
<td>Event id for this webhook</td>
</tr>
<tr>
<td>subscriptionId</td>
<td>Webhook subscription id for this event</td>
</tr>
<tr>
<td>attempts</td>
<td>Array of attempt JSON object</td>
</tr>
</tbody></table>
<h3 id='attempt-json-object'>Attempt JSON object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique id of webhook delivery attempt.</td>
</tr>
<tr>
<td>request</td>
<td>Request JSON object</td>
</tr>
<tr>
<td>response</td>
<td>Response JSON object</td>
</tr>
</tbody></table>
<h3 id='requestresponse-json-object'>Request/response JSON object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>created</td>
<td>ISO-8601 timestamp</td>
</tr>
<tr>
<td>url</td>
<td>URL where data was sent to/received from</td>
</tr>
<tr>
<td>headers</td>
<td>Array of objects with keys <code class="prettyprint">name</code> and <code class="prettyprint">value</code> representative of HTTP headers</td>
</tr>
<tr>
<td>body</td>
<td>Event id for this webhook</td>
</tr>
</tbody></table>
<h2 id='create-a-webhook-subscription'>Create a webhook subscription</h2>
<p>This section details how to create a webhook subscription to deliver <a href="#webhooks">webhooks</a> to a specified URL.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth <em>Application</em> access token.</p>
</li></ol><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/webhook-subscriptions</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url</td>
<td>yes</td>
<td>string</td>
<td>Where Dwolla should deliver the webhook notification.</td>
</tr>
<tr>
<td>secret</td>
<td>yes</td>
<td>string</td>
<td>A random, secret key, only known by your application. This secret key should be securely stored and used later when <a href="https://developers.dwolla.com/guides/webhooks/03-validating-webhooks.html">validating the authenticity</a> of the webhook request from Dwolla.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-uat.dwolla.com/webhook-subscriptions
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer 0Sn0W6kzNicvoWhDbQcVSKLRUpGjIdlPSEYyrHqrDDoRnQwE7Q
{
    "url": "http://myapplication.com/webhooks",
    "secret": "sshhhhhh"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:url</span> <span class="o">=&gt;</span> <span class="s2">"http://myawesomeapplication.com/destination"</span><span class="p">,</span>
  <span class="ss">:secret</span> <span class="o">=&gt;</span> <span class="s2">"your webhook secret"</span>
<span class="p">}</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">subscription</span> <span class="o">=</span> <span class="n">application_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"webhook-subscriptions"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">subscription</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">subscription</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">WebhooksubscriptionsApi</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">:body</span> <span class="o">=&gt;</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">subscription</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'http://myawesomeapplication.com/destination'</span><span class="p">,</span>
  <span class="na">secret</span><span class="p">:</span> <span class="s1">'your webhook secret'</span>
<span class="p">};</span>

<span class="nx">applicationToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'webhook-subscriptions'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">);</span> <span class="c1">// =&gt; 'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>
  <span class="p">});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'url'</span><span class="p">:</span> <span class="s">'http://myapplication.com/webhooks'</span><span class="p">,</span>
  <span class="s">'secret'</span><span class="p">:</span> <span class="s">'sshhhhhh'</span>
<span class="p">}</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">retries</span> <span class="o">=</span> <span class="n">application_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'webhook-subscriptions'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">retries</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 1</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">webhook_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">WebhooksubscriptionsApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">subscription</span> <span class="o">=</span> <span class="n">webhook_api</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">body</span> <span class="o">=</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">subscription</span> <span class="c"># =&gt; 'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksubscriptionsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$subscription</span> <span class="o">=</span> <span class="nv">$webhookApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="k">array</span> <span class="p">(</span>
  <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'http://myapplication.com/webhooks'</span><span class="p">,</span>
  <span class="s1">'secret'</span> <span class="o">=&gt;</span> <span class="s1">'sshhhhhh'</span><span class="p">,</span>
<span class="p">));</span>
<span class="nv">$subscription</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='delete-a-subscription'>Delete a subscription</h2>
<p>Delete a Webhook Subscription to stop receiving Webhooks at the URL specified. If using an SDK, the request was successful unless an exception was thrown stating otherwise.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth <em>Application</em> access token.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">DELETE https://api.dwolla.com/webhook-subscriptions/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Webhook unique identifier.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Webhook subscription not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">DELETE https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">application_token</span><span class="p">.</span><span class="nf">delete</span> <span class="n">webhook_subscription_url</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">WebhooksubscriptionApi</span><span class="p">.</span><span class="nf">delete_by_id</span><span class="p">(</span><span class="n">webhook_subscription_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookSubscriptionUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">;</span>

<span class="nx">applicationToken</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">webhookSubscriptionUrl</span><span class="p">);</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">application_token</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">webhook_subscription_url</span><span class="p">)</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">webhook_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">WebhooksubscriptionsApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">webhook_api</span><span class="o">.</span><span class="n">delete_by_id</span><span class="p">(</span><span class="n">webhook_subscription_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksubscriptionsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$webhookApi</span><span class="o">-&gt;</span><span class="na">deleteById</span><span class="p">(</span><span class="s1">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='list-subscriptions'>List subscriptions</h2>
<p>This section covers how to retrieve a list of webhook subscriptions that belong to an application.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth <em>Application</em> access token.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/webhook-subscriptions</code></p>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/webhook-subscriptions
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/webhook-subscriptions"
    }
  },
  "_embedded": {
    "webhook-subscriptions": [
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/webhook-subscriptions/f4d21628-fde2-4d3a-b69a-0a7cb42adc4c"
          },
          "webhooks": {
            "href": "https://api.dwolla.com/webhook-subscriptions/f4d21628-fde2-4d3a-b69a-0a7cb42adc4c/webhooks"
          }
        },
        "id": "f4d21628-fde2-4d3a-b69a-0a7cb42adc4c",
        "url": "https://destination.url",
        "created": "2015-08-19T21:43:49.000Z"
      }
    ]
  },
  "total": 1
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">webhook_subscriptions</span> <span class="o">=</span> <span class="n">application_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"webhook-subscriptions"</span>
<span class="n">webhook_subscriptions</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 1</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">webhook_subscriptions</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">WebhooksubscriptionsApi</span><span class="p">.</span><span class="nf">list</span>
<span class="n">webhook_subscriptions</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 1</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">applicationToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'webhook-subscriptions'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">;</span> <span class="c1">// =&gt; 1</span>
  <span class="p">});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">webhook_subscriptions</span> <span class="o">=</span> <span class="n">application_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'webhook-subscriptions'</span><span class="p">)</span>
<span class="n">webhook_subscriptions</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 1</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">webhook_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">WebhooksubscriptionsApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">retrieved</span> <span class="o">=</span> <span class="n">webhook_api</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
<span class="n">retrieved</span><span class="o">.</span><span class="n">total</span> <span class="c"># =&gt; 1</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksubscriptionsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$retrieved</span> <span class="o">=</span> <span class="nv">$webhookApi</span><span class="o">-&gt;</span><span class="na">_list</span><span class="p">();</span>
<span class="nv">$retrieved</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; 1
</span><span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='get-a-subscription-by-id'>Get a subscription by id</h2>
<p>This section details how to retrieve a webhook subscription by its id.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth <em>Application</em> access token.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/webhook-subscriptions/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Webhook subscription unique identifier.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Webhook subscription not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response:</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/webhook-subscriptions/077dfffb-4852-412f-96b6-0fe668066589"
    },
    "webhooks": {
      "href": "https://api-uat.dwolla.com/webhook-subscriptions/077dfffb-4852-412f-96b6-0fe668066589/webhooks"
    }
  },
  "id": "077dfffb-4852-412f-96b6-0fe668066589",
  "url": "http://myapplication.com/webhooks",
  "created": "2015-10-28T16:20:47+00:00"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">webhook_subscription</span> <span class="o">=</span> <span class="n">application_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">webhook_subscription_url</span>
<span class="n">webhook_subscription</span><span class="p">.</span><span class="nf">created</span> <span class="c1"># =&gt; 2015-10-28T16:20:47+00:00</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">webhook_subscription</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">WebhooksubscriptionApi</span><span class="p">.</span><span class="nf">id</span> <span class="n">webhook_subscription_url</span>
<span class="n">webhook_subscription</span><span class="p">.</span><span class="nf">created</span> <span class="c1"># =&gt; 2015-10-28T16:20:47+00:00</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookSubscriptionUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">;</span>

<span class="nx">applicationToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">webhookSubscriptionUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">created</span><span class="p">;</span> <span class="c1">// =&gt; '2016-04-20T15:49:50.340Z'</span>
  <span class="p">});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">webhook_subscription</span> <span class="o">=</span> <span class="n">application_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">webhook_subscription_url</span><span class="p">)</span>
<span class="n">webhook_subscription</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'created'</span><span class="p">]</span> <span class="c"># =&gt; '2015-10-28T16:20:47+00:00'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">webhook_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">WebhooksubscriptionsApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">retrieved</span> <span class="o">=</span> <span class="n">webhook_api</span><span class="o">.</span><span class="nb">id</span><span class="p">(</span><span class="n">webhook_subscription_url</span><span class="p">)</span>
<span class="n">retrieved</span><span class="o">.</span><span class="n">created</span> <span class="c"># =&gt; 2015-10-28T16:20:47+00:00</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksubscriptionsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$retrieved</span> <span class="o">=</span> <span class="nv">$webhookApi</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">(</span><span class="s1">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">);</span>

<span class="nv">$retrieved</span><span class="o">-&gt;</span><span class="na">created</span><span class="p">;</span> <span class="c1"># =&gt; 2015-10-28T16:20:47+00:00
</span><span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='get-a-subscription39s-webhooks'>Get a subscription&rsquo;s webhooks</h2>
<p>This section covers how to view all fired <a href="#webhooks">webhooks</a> for a webhook subscription.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth <em>Application</em> access token.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/webhook-subscriptions/{id}/webhooks</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Webhook subscription unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET /webhook-subscriptions/10d4133e-b308-4646-b276-40d9d36def1c/webhooks
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {},
  "total": 0,
  "items": [
    {
      "_links": {},
      "id": "string",
      "topic": "string",
      "accountId": "string",
      "eventId": "string",
      "subscriptionId": "string",
      "attempts": [
        {
          "id": "string",
          "request": {
            "created": "2015-07-23T14:19:37.006Z",
            "url": "string",
            "headers": [
              {
                "name": "string",
                "value": "string"
              }
            ],
            "body": "string"
          },
          "response": {
            "created": "2015-07-23T14:19:37.006Z",
            "headers": [
              {
                "name": "string",
                "value": "string"
              }
            ],
            "statusCode": 0,
            "body": "string"
          }
        }
      ]
    }
  ]
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">hooks</span> <span class="o">=</span> <span class="n">application_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">webhook_subscription_url</span><span class="si">}</span><span class="s2">/webhooks"</span>
<span class="n">hooks</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 5</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">hooks</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">WebhooksApi</span><span class="p">.</span><span class="nf">hooks_by_id</span> <span class="n">webhook_subscription_url</span>
<span class="n">hooks</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 5</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookSubscriptionUrl</span> <span class="o">=</span> <span class="s1">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">;</span>

<span class="nx">applicationToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">webhookSubscriptionUrl</span><span class="p">}</span><span class="sr">/webhooks`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">;</span> <span class="c1">// =&gt; 5</span>
  <span class="p">});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">hooks</span> <span class="o">=</span> <span class="n">application_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/hooks'</span> <span class="o">%</span> <span class="n">webhook_subscription_url</span><span class="p">)</span>
<span class="n">hooks</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 5</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">webhook_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">WebhooksApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">hooks</span> <span class="o">=</span> <span class="n">webhook_api</span><span class="o">.</span><span class="n">hooks_by_id</span><span class="p">(</span><span class="n">webhook_subscription_url</span><span class="p">)</span>
<span class="n">hooks</span><span class="o">.</span><span class="n">total</span> <span class="c"># =&gt; 5</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$hooks</span> <span class="o">=</span> <span class="nv">$webhookApi</span><span class="o">-&gt;</span><span class="na">hooksById</span><span class="p">(</span><span class="s1">'https://api-uat.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">);</span>
<span class="nv">$hooks</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; 5
</span><span class="cp">?&gt;</span>
</code></pre></div></div>
            <h1 id='webhooks'>Webhooks</h1>
<p>When a new <a href="#events">event</a> is created and there is an active <a href="#webhook-subscriptions">webhook subscription</a>, a new webhook is created in order to deliver that event.  Attempted deliveries are recorded under the webhook&rsquo;s <code class="prettyprint">attempts</code> property.  Each attempt includes the recorded request and response of the delivery attempt. Webhooks are sent asynchronously and are not guaranteed to be delivered in order. We recommend that applications protect against duplicated events by making event processing idempotent.</p>

<p><strong>Note:</strong> Webhooks containing an <a href="#events">event</a> are only fired if an application has a valid refresh_token for the Dwolla user Account that an event is created on.</p>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"subscription"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/webhook-subscriptions/a0943041-7a5c-4e8f-92de-b55711ef3a83"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"retry"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/events/03c7e14c-7f15-44a2-bcf7-83f2f7e95d50"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ece9660-aa34-41eb-80d7-0125d53b45e8"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer_created"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ca32853c-48fa-40be-ae75-77b37504581b"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03c7e14c-7f15-44a2-bcf7-83f2f7e95d50"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subscriptionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a0943041-7a5c-4e8f-92de-b55711ef3a83"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"attempts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4d16621-c6b0-40cb-8dc3-0469fa9dc4e8"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-27T17:07:34.304Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://myapp.runscope.net"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"headers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X-Dwolla-Topic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer_created"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X-Request-Signature"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bd93780bd7e1ad77ab821094aaa0f9e3dece5ee3"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"id\":\"03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\",\"resourceId\":\"81BA6F36-CD7C-E511-80DB-0AA34A9B2388\",\"topic\":\"transfer_created\",\"timestamp\":\"2015-10-27T17:07:34.207Z\",\"_links\":{\"self\":{\"href\":\"https://api.dwolla.com/events/03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\"},\"account\":{\"href\":\"https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b\"},\"resource\":{\"href\":\"https://api.dwolla.com/transfers/81BA6F36-CD7C-E511-80DB-0AA34A9B2388\"}}}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-27T17:07:34.308Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"headers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Date"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tue, 27 Oct 2015 17:07:34 GMT"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Content-Type"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json; charset=UTF-8"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Content-Length"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1093"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Connection"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"keep-alive"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Access-Control-Allow-Credentials"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Access-Control-Allow-Methods"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET, PUT, POST, PATCH, DELETE, OPTIONS, HEAD"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Server"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Runscope-Gateway/1.0"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Runscope-Message-Id"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"97aa5bbd-784f-4007-80cc-8f56919000a0"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Access-Control-Allow-Origin"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"body\":\"{\"id\":\"03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\",\"resourceId\":\"81BA6F36-CD7C-E511-80DB-0AA34A9B2388\",\"topic\":\"transfer_created\",\"timestamp\":\"2015-10-27T17:07:34.207Z\",\"_links\":{\"self\":{\"href\":\"https://api.dwolla.com/events/03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\"},\"account\":{\"href\":\"https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b\"},\"resource\":{\"href\":\"https://api.dwolla.com/transfers/81BA6F36-CD7C-E511-80DB-0AA34A9B2388\"}}}\",\"files\":[],\"form\":{},\"fragment\":\"\",\"headers\":{\"Connection\":[\"close\"],\"Content-Length\":[\"453\"],\"Content-Type\":[\"application/json; charset=UTF-8\"],\"Host\":[\"myapp.runscope.net\"],\"User-Agent\":[\"dwolla-webhooks/1.0\"],\"X-Dwolla-Topic\":[\"transfer_created\"],\"X-Request-Signature\":[\"bd93780bd7e1ad77ab821094aaa0f9e3dece5ee3\"]},\"host\":\"myapp.runscope.net\",\"method\":\"POST\",\"params\":{},\"path\":\"/\",\"region\":\"us5\",\"runscope_host\":\"prod078.runscope.in\",\"scheme\":\"https\",\"source\":\"capture\",\"source_ip\":\"52.24.10.184\",\"timestamp\":1.4459656543078682e+09,\"url\":\"https://myapp.runscope.net/\"}"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='retrieve-a-webhook'>Retrieve a webhook</h2>
<p>This section covers how to retrieve a single webhook.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth <em>Application</em> access token.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/webhooks/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Id of webhook to retrieve.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Webhook not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8"
    },
    "subscription": {
      "href": "https://api.dwolla.com/webhook-subscriptions/a0943041-7a5c-4e8f-92de-b55711ef3a83"
    },
    "retry": {
      "href": "https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries"
    },
    "event": {
      "href": "https://api.dwolla.com/events/03c7e14c-7f15-44a2-bcf7-83f2f7e95d50"
    }
  },
  "id": "9ece9660-aa34-41eb-80d7-0125d53b45e8",
  "topic": "transfer_created",
  "accountId": "ca32853c-48fa-40be-ae75-77b37504581b",
  "eventId": "03c7e14c-7f15-44a2-bcf7-83f2f7e95d50",
  "subscriptionId": "a0943041-7a5c-4e8f-92de-b55711ef3a83",
  "attempts": [
    {
      "id": "d4d16621-c6b0-40cb-8dc3-0469fa9dc4e8",
      "request": {
        "timestamp": "2015-10-27T17:07:34.304Z",
        "url": "https://myapp.runscope.net",
        "headers": [
          {
            "name": "X-Dwolla-Topic",
            "value": "transfer_created"
          },
          {
            "name": "X-Request-Signature",
            "value": "bd93780bd7e1ad77ab821094aaa0f9e3dece5ee3"
          }
        ],
        "body": "{\"id\":\"03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\",\"resourceId\":\"81BA6F36-CD7C-E511-80DB-0AA34A9B2388\",\"topic\":\"transfer_created\",\"timestamp\":\"2015-10-27T17:07:34.207Z\",\"_links\":{\"self\":{\"href\":\"https://api.dwolla.com/events/03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\"},\"account\":{\"href\":\"https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b\"},\"resource\":{\"href\":\"https://api.dwolla.com/transfers/81BA6F36-CD7C-E511-80DB-0AA34A9B2388\"}}}"
      },
      "response": {
        "timestamp": "2015-10-27T17:07:34.308Z",
        "headers": [
          {
            "name": "Date",
            "value": "Tue, 27 Oct 2015 17:07:34 GMT"
          },
          {
            "name": "Content-Type",
            "value": "application/json; charset=UTF-8"
          },
          {
            "name": "Content-Length",
            "value": "1093"
          },
          {
            "name": "Connection",
            "value": "keep-alive"
          },
          {
            "name": "Access-Control-Allow-Credentials",
            "value": "true"
          },
          {
            "name": "Access-Control-Allow-Methods",
            "value": "GET, PUT, POST, PATCH, DELETE, OPTIONS, HEAD"
          },
          {
            "name": "Server",
            "value": "Runscope-Gateway/1.0"
          },
          {
            "name": "Runscope-Message-Id",
            "value": "97aa5bbd-784f-4007-80cc-8f56919000a0"
          },
          {
            "name": "Access-Control-Allow-Origin",
            "value": "*"
          }
        ],
        "statusCode": 200,
        "body": "{\"body\":\"{\"id\":\"03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\",\"resourceId\":\"81BA6F36-CD7C-E511-80DB-0AA34A9B2388\",\"topic\":\"transfer_created\",\"timestamp\":\"2015-10-27T17:07:34.207Z\",\"_links\":{\"self\":{\"href\":\"https://api.dwolla.com/events/03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\"},\"account\":{\"href\":\"https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b\"},\"resource\":{\"href\":\"https://api.dwolla.com/transfers/81BA6F36-CD7C-E511-80DB-0AA34A9B2388\"}}}\",\"files\":[],\"form\":{},\"fragment\":\"\",\"headers\":{\"Connection\":[\"close\"],\"Content-Length\":[\"453\"],\"Content-Type\":[\"application/json; charset=UTF-8\"],\"Host\":[\"myapp.runscope.net\"],\"User-Agent\":[\"dwolla-webhooks/1.0\"],\"X-Dwolla-Topic\":[\"transfer_created\"],\"X-Request-Signature\":[\"bd93780bd7e1ad77ab821094aaa0f9e3dece5ee3\"]},\"host\":\"myapp.runscope.net\",\"method\":\"POST\",\"params\":{},\"path\":\"/\",\"region\":\"us5\",\"runscope_host\":\"prod078.runscope.in\",\"scheme\":\"https\",\"source\":\"capture\",\"source_ip\":\"52.24.10.184\",\"timestamp\":1.4459656543078682e+09,\"url\":\"https://myapp.runscope.net/\"}"
      }
    }
  ]
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">webhook_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">webhook</span> <span class="o">=</span> <span class="n">application_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">webhook_url</span>
<span class="n">webhook</span><span class="p">.</span><span class="nf">topic</span> <span class="c1"># =&gt; "transfer_created"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">webhook</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">WebhooksApi</span><span class="p">.</span><span class="nf">id</span><span class="p">(</span><span class="n">webhook_url</span><span class="p">)</span>
<span class="n">webhook</span><span class="p">.</span><span class="nf">topic</span> <span class="c1"># =&gt; "transfer_created"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nv">$webhooksApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$webhook</span> <span class="o">=</span> <span class="nv">$webhooksApi</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">(</span><span class="nv">$webhookUrl</span><span class="p">);</span>
<span class="nv">$webhook</span><span class="o">-&gt;</span><span class="na">topic</span><span class="p">;</span> <span class="c1"># =&gt; "transfer_created"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">webhook_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">webhook</span> <span class="o">=</span> <span class="n">application_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">transfer_url</span><span class="p">)</span>
<span class="n">webhook</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'topic'</span><span class="p">]</span> <span class="c"># =&gt; 'transfer_created'</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">webhooks_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">WebhooksApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">webhook</span> <span class="o">=</span> <span class="n">webhooks_api</span><span class="o">.</span><span class="nb">id</span><span class="p">(</span><span class="n">webhook_url</span><span class="p">)</span>
<span class="n">webhook</span><span class="o">.</span><span class="n">topic</span> <span class="c"># =&gt; 'transfer_created'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nx">applicationToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">webhookUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">topic</span><span class="p">;</span> <span class="c1">// =&gt; 'transfer_created'</span>
  <span class="p">});</span>
</code></pre></div></div><h2 id='retry-a-webhook-by-id'>Retry a webhook by id</h2>
<p>This section details how to retry a webhook by id.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth <em>Application</em> access token.</p>
</li></ol><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/webhooks/{id}/retries</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Id of webhook to retry.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Webhook not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST /webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

HTTP/1.1 201 Created
Location: https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries/5aa27a0f-cf99-418d-a3ee-67c0ff99a494
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">webhook_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">application_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">webhook_url</span><span class="si">}</span><span class="s2">/retries"</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">WebhooksApi</span><span class="p">.</span><span class="nf">retry_webhook</span><span class="p">(</span><span class="n">webhook_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nv">$webhooksApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$webhooksApi</span><span class="o">-&gt;</span><span class="na">retryWebhook</span><span class="p">(</span><span class="nv">$webhookUrl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">webhook_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">application_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/retries'</span> <span class="o">%</span> <span class="n">webhook_url</span><span class="p">)</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">webhooks_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">WebhooksApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">webhooks_api</span><span class="o">.</span><span class="n">retry_webhook</span><span class="p">(</span><span class="n">webhook_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nx">applicationToken</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">webhookUrl</span><span class="p">}</span><span class="sr">/retries`</span><span class="se">)</span><span class="err">;
</span></code></pre></div></div><h2 id='get-webhook-retries-by-id'>Get webhook retries by id</h2>
<p>This section covers how to retrieve webhook retries by id.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth <em>Application</em> access token.</p>
</li></ol><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/webhooks/{id}/retries</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Id of webhook to get retries for.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Webhook not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET /webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries"
    }
  },
  "_embedded": {
    "retries": [
      {
        "_links": {
          "self": {
            "href": "https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries/5aa27a0f-cf99-418d-a3ee-67c0ff99a494"
          },
          "webhook": {
            "href": "https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8"
          }
        },
        "id": "5aa27a0f-cf99-418d-a3ee-67c0ff99a494",
        "timestamp": "2015-11-02T17:43:26.000Z"
      }
    ]
  },
  "total": 1
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">webhook_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">retries</span> <span class="o">=</span> <span class="n">application_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">webhook_url</span><span class="si">}</span><span class="s2">/retries"</span>
<span class="n">retries</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 1</span>

<span class="c1"># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class="n">retries</span> <span class="o">=</span> <span class="no">DwollaSwagger</span><span class="o">::</span><span class="no">WebhooksApi</span><span class="p">.</span><span class="nf">retries_by_id</span><span class="p">(</span><span class="n">webhook_url</span><span class="p">)</span>
<span class="n">retries</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 1</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nv">$webhooksApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$retries</span> <span class="o">=</span> <span class="nv">$webhooksApi</span><span class="o">-&gt;</span><span class="na">retriesById</span><span class="p">(</span><span class="nv">$webhookUrl</span><span class="p">);</span>
<span class="nv">$retries</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; 1
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">webhook_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">retries</span> <span class="o">=</span> <span class="n">application_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/retries'</span> <span class="o">%</span> <span class="n">webhook_url</span><span class="p">)</span>
<span class="n">retries</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 1</span>

<span class="c"># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class="n">webhooks_api</span> <span class="o">=</span> <span class="n">dwollaswagger</span><span class="o">.</span><span class="n">WebhooksApi</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">retries</span> <span class="o">=</span> <span class="n">webhooks_api</span><span class="o">.</span><span class="n">retries_by_id</span><span class="p">(</span><span class="n">webhook_url</span><span class="p">)</span>
<span class="n">retries</span><span class="o">.</span><span class="n">total</span> <span class="c"># =&gt; 1</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nx">applicationToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">webhookUrl</span><span class="p">}</span><span class="sr">/retries`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">;</span> <span class="c1">// =&gt; 1</span>
  <span class="p">});</span>
</code></pre></div></div>
          <footer>
            <div class="page-wrap">
              <nav>
                <h6>Info</h6>
                <a href="https://www.dwolla.com/about">Product</a>
                <a href="https://developers.dwolla.com">API documentation</a>
                <a href="https://www.dwolla.com/fisync">FiSync</a>
                <a href="https://www.dwolla.com/security">Security</a>
                <a href="https://www.dwolla.com/pricing?b=footer">Pricing</a>
                <a href="https://www.dwolla.com/contact?b=footer">Contact sales</a>
              </nav>
              <nav>
                <h6>Account</h6>
                <a href="https://www.dwolla.com/register">Create account</a>
                <a href="https://www.dwolla.com/login">Log in</a>
                <a href="http://help.dwolla.com/">Support</a>
                <a href="https://www.dwolla.com/legal/privacy/">Privacy</a>
                <a href="https://legal.dwolla.com/tos/">Legal</a>
              </nav>
              <nav>
                <h6>Elsewhere</h6>
                <a href="https://twitter.com/dwolla">Twitter</a>
                <a href="https://www.facebook.com/dwolla">Facebook</a>
                <a href="https://www.linkedin.com/company/dwolla">Linkedin</a>
              </nav>
              <nav>
                <h6>Learn more</h6>
                <a href="http://press.dwolla.com/">Press</a>
                <a href="https://dwolla.com/updates">Updates</a>
                <a href="https://www.dwolla.com/careers">Careers</a>
              </nav>
            </div>
          </footer>
          <section class="disclaimer">
            <div class="page-wrap">
              <h5>Financial institutions play an important role in the Dwolla network.</h5>
              <p>Dwolla, Inc. is an agent of Veridian Credit Union and Compass Bank and all funds associated with your account in the Dwolla network are held in pooled accounts at Veridian Credit Union and Compass Bank. These funds are not eligible for individual insurance, including FDIC insurance and may not be eligible for share insurance by the National Credit Union Share Insurance Fund. Dwolla, Inc. is the operator of a software platform that communicates user instructions for funds transfers to Veridian Credit Union and Compass Bank.</p>
            </div>
          </section>
          <section class="copyright">
            <div class="page-wrap">
              <div>
                <span>© 2016 Dwolla, Inc.</span>
                <a href="https://legal.dwolla.com/about-our-financial-institution-partner/">Dwolla, Inc. is an agent of its Financial Institution Partner(s)</a>
              </div>
            </div>
          </section>
        </section>
      </div>
    </div>
  </body>
</html>

<!-- 
    <div class="lang-selector">
          <a href="#" data-language-name="raw">raw</a>
          <a href="#" data-language-name="php">php</a>
          <a href="#" data-language-name="ruby">ruby</a>
          <a href="#" data-language-name="python">python</a>
          <a href="#" data-language-name="javascript">javascript</a>
    </div>
   -->